"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/profile";
exports.ids = ["pages/api/profile"];
exports.modules = {

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(api)/./pages/api/profile.ts":
/*!******************************!*\
  !*** ./pages/api/profile.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__);\n// pages/api/profile.ts - Переписанный API для профиля и настроек\n\n\n\n// Пути к файлам\nconst getUsersFilePath = ()=>path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"data\", \"users.json\");\nconst getProfilesFilePath = ()=>path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"data\", \"profiles.json\");\nconst getSettingsFilePath = ()=>path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"data\", \"settings.json\");\n// Функции загрузки данных\nconst loadUsers = ()=>{\n    const filePath = getUsersFilePath();\n    if (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(filePath)) return [];\n    try {\n        const data = fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(filePath, \"utf8\");\n        return JSON.parse(data);\n    } catch (error) {\n        console.error(\"Error loading users:\", error);\n        return [];\n    }\n};\nconst loadProfiles = ()=>{\n    const filePath = getProfilesFilePath();\n    if (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(filePath)) return [];\n    try {\n        const data = fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(filePath, \"utf8\");\n        return JSON.parse(data);\n    } catch (error) {\n        console.error(\"Error loading profiles:\", error);\n        return [];\n    }\n};\nconst loadSettings = ()=>{\n    const filePath = getSettingsFilePath();\n    if (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(filePath)) return [];\n    try {\n        const data = fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(filePath, \"utf8\");\n        return JSON.parse(data);\n    } catch (error) {\n        console.error(\"Error loading settings:\", error);\n        return [];\n    }\n};\n// Функции сохранения данных\nconst saveProfiles = (profiles)=>{\n    const filePath = getProfilesFilePath();\n    const dir = path__WEBPACK_IMPORTED_MODULE_1___default().dirname(filePath);\n    if (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(dir)) {\n        fs__WEBPACK_IMPORTED_MODULE_0___default().mkdirSync(dir, {\n            recursive: true\n        });\n    }\n    fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(filePath, JSON.stringify(profiles, null, 2));\n};\nconst saveSettings = (settings)=>{\n    const filePath = getSettingsFilePath();\n    const dir = path__WEBPACK_IMPORTED_MODULE_1___default().dirname(filePath);\n    if (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(dir)) {\n        fs__WEBPACK_IMPORTED_MODULE_0___default().mkdirSync(dir, {\n            recursive: true\n        });\n    }\n    fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(filePath, JSON.stringify(settings, null, 2));\n};\nconst saveUsers = (users)=>{\n    const filePath = getUsersFilePath();\n    fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(filePath, JSON.stringify(users, null, 2));\n};\n// Функции аутентификации\nconst verifyToken = (token)=>{\n    try {\n        const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default().verify(token, process.env.JWT_SECRET || \"workly-local-secret-key-2025\");\n        return decoded;\n    } catch (error) {\n        return null;\n    }\n};\nconst getUserFromToken = (authHeader)=>{\n    if (!authHeader || !authHeader.startsWith(\"Bearer \")) return null;\n    const token = authHeader.split(\" \")[1];\n    const decoded = verifyToken(token);\n    if (!decoded) return null;\n    try {\n        const users = loadUsers();\n        const user = users.find((u)=>u.id === decoded.userId);\n        if (!user) return null;\n        return {\n            id: user.id,\n            username: user.username,\n            email: user.email,\n            createdAt: user.createdAt\n        };\n    } catch (error) {\n        return null;\n    }\n};\n// Создание дефолтного профиля\nconst createDefaultProfile = (user)=>{\n    const now = new Date().toISOString();\n    return {\n        id: user.id,\n        username: user.username,\n        email: user.email,\n        name: user.username,\n        firstName: \"\",\n        lastName: \"\",\n        bio: \"\",\n        skills: [],\n        hourlyRate: 0,\n        location: \"\",\n        website: \"\",\n        github: \"\",\n        linkedin: \"\",\n        twitter: \"\",\n        avatar: \"\",\n        rating: 4.5,\n        completedProjects: 0,\n        totalEarnings: 0,\n        joinedAt: user.createdAt || now,\n        verifiedEmail: false,\n        verifiedPhone: false,\n        notifications: {\n            email: true,\n            push: true,\n            newTasks: true,\n            taskUpdates: true,\n            messages: true,\n            marketing: false\n        },\n        privacy: {\n            profileVisibility: \"public\",\n            showEmail: false,\n            showStats: true,\n            showCompletedTasks: true\n        },\n        preferences: {\n            theme: \"dark\",\n            language: \"en\",\n            timezone: \"UTC\",\n            currency: \"USD\"\n        },\n        createdAt: user.createdAt || now,\n        updatedAt: now\n    };\n};\n// Объединение данных из разных источников\nconst mergeProfileData = (profile, settings, user)=>{\n    const defaultProfile = createDefaultProfile(user);\n    if (!profile && !settings) {\n        return defaultProfile;\n    }\n    // Объединяем данные с приоритетом: settings > profile > default\n    const merged = {\n        ...defaultProfile,\n        ...profile,\n        ...settings,\n        // Гарантируем обязательные поля\n        id: user.id,\n        username: user.username,\n        email: user.email,\n        skills: profile?.skills || settings?.skills || [],\n        rating: profile?.rating || settings?.rating || 4.5,\n        completedProjects: profile?.completedProjects || 0,\n        totalEarnings: profile?.totalEarnings || 0,\n        verifiedEmail: profile?.verifiedEmail || false,\n        verifiedPhone: profile?.verifiedPhone || false,\n        notifications: {\n            ...defaultProfile.notifications,\n            ...profile?.notifications || {},\n            ...settings?.notifications || {}\n        },\n        privacy: {\n            ...defaultProfile.privacy,\n            ...profile?.privacy || {},\n            ...settings?.privacy || {}\n        },\n        preferences: {\n            ...defaultProfile.preferences,\n            ...profile?.preferences || {},\n            ...settings?.preferences || {}\n        }\n    };\n    return merged;\n};\n// Фильтрация обновлений\nconst filterUpdates = (updates)=>{\n    const filtered = {};\n    // Профильные поля\n    const profileFields = [\n        \"firstName\",\n        \"lastName\",\n        \"bio\",\n        \"skills\",\n        \"hourlyRate\",\n        \"location\",\n        \"website\",\n        \"github\",\n        \"linkedin\",\n        \"twitter\",\n        \"avatar\",\n        \"rating\",\n        \"completedProjects\",\n        \"totalEarnings\",\n        \"verifiedEmail\",\n        \"verifiedPhone\"\n    ];\n    // Настроечные поля\n    const settingsFields = [\n        \"name\",\n        \"username\",\n        \"notifications\",\n        \"privacy\",\n        \"preferences\"\n    ];\n    // Копируем только валидные поля\n    const allFields = [\n        ...profileFields,\n        ...settingsFields\n    ];\n    allFields.forEach((field)=>{\n        if (updates[field] !== undefined) {\n            filtered[field] = updates[field];\n        }\n    });\n    return filtered;\n};\nasync function handler(req, res) {\n    const { method } = req;\n    // Аутентификация\n    const currentUser = getUserFromToken(req.headers.authorization);\n    if (!currentUser) {\n        return res.status(401).json({\n            error: \"Unauthorized\",\n            message: \"Authentication required\"\n        });\n    }\n    if (method === \"GET\") {\n        try {\n            const allProfiles = loadProfiles();\n            const allSettings = loadSettings();\n            const userProfile = allProfiles.find((p)=>p.id === currentUser.id) || null;\n            const userSettings = allSettings.find((s)=>s.id === currentUser.id) || null;\n            const mergedProfile = mergeProfileData(userProfile, userSettings, currentUser);\n            if (!userProfile) {\n                allProfiles.push(mergedProfile);\n                saveProfiles(allProfiles);\n            }\n            if (!userSettings) {\n                allSettings.push(mergedProfile);\n                saveSettings(allSettings);\n            }\n            res.status(200).json({\n                success: true,\n                profile: mergedProfile\n            });\n        } catch (error) {\n            console.error(\"Get profile error:\", error);\n            res.status(500).json({\n                error: \"Internal server error\",\n                message: \"Failed to get profile\"\n            });\n        }\n    } else if (method === \"PUT\") {\n        try {\n            const rawUpdates = req.body;\n            const updates = filterUpdates(rawUpdates);\n            // Валидация username\n            if (updates.username && updates.username !== currentUser.username) {\n                const users = loadUsers();\n                const existingUser = users.find((u)=>u.username === updates.username.toLowerCase() && u.id !== currentUser.id);\n                if (existingUser) {\n                    return res.status(400).json({\n                        error: \"Username already taken\",\n                        message: \"This username is already in use by another user\"\n                    });\n                }\n            }\n            const allProfiles = loadProfiles();\n            const allSettings = loadSettings();\n            const profileIndex = allProfiles.findIndex((p)=>p.id === currentUser.id);\n            const settingsIndex = allSettings.findIndex((s)=>s.id === currentUser.id);\n            const now = new Date().toISOString();\n            const currentProfile = allProfiles[profileIndex] || null;\n            const currentSettings = allSettings[settingsIndex] || null;\n            const updatedProfile = mergeProfileData(currentProfile, currentSettings, currentUser);\n            Object.keys(updates).forEach((key)=>{\n                if (updates[key] !== undefined) {\n                    updatedProfile[key] = updates[key];\n                }\n            });\n            updatedProfile.updatedAt = now;\n            if (profileIndex === -1) {\n                allProfiles.push(updatedProfile);\n            } else {\n                allProfiles[profileIndex] = updatedProfile;\n            }\n            if (settingsIndex === -1) {\n                allSettings.push(updatedProfile);\n            } else {\n                allSettings[settingsIndex] = updatedProfile;\n            }\n            saveProfiles(allProfiles);\n            saveSettings(allSettings);\n            if (updates.username && updates.username !== currentUser.username) {\n                const users = loadUsers();\n                const userIndex = users.findIndex((u)=>u.id === currentUser.id);\n                if (userIndex !== -1) {\n                    users[userIndex].username = updates.username.toLowerCase();\n                    saveUsers(users);\n                }\n            }\n            res.status(200).json({\n                success: true,\n                profile: updatedProfile\n            });\n        } catch (error) {\n            console.error(\"Update profile error:\", error);\n            res.status(500).json({\n                error: \"Internal server error\",\n                message: \"Failed to update profile\"\n            });\n        }\n    } else {\n        res.status(405).json({\n            error: \"Method not allowed\",\n            message: `Method ${method} is not supported`\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RixJQUFXQSxFQUFFQyxFQUFFLEtBQUs2RCxZQUFZN0QsRUFBRTtnQkFDckUsSUFBSXdGLGNBQWMsQ0FBQyxHQUFHO29CQUNwQnRHLEtBQUssQ0FBQ3NHLFVBQVUsQ0FBQ3RGLFFBQVEsR0FBRytDLFFBQVEvQyxRQUFRLENBQUM0RSxXQUFXO29CQUN4RDdGLFVBQVVDO2dCQUNaO1lBQ0Y7WUFFQXlFLElBQUlLLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQ25CUyxTQUFTO2dCQUNUN0IsU0FBU3VDO1lBQ1g7UUFFRixFQUFFLE9BQU9qSCxPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyx5QkFBeUJBO1lBQ3ZDd0YsSUFBSUssTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFDbkI5RixPQUFPO2dCQUNQK0YsU0FBUztZQUNYO1FBQ0Y7SUFFRixPQUFPO1FBQ0xQLElBQUlLLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFDbkI5RixPQUFPO1lBQ1ArRixTQUFTLENBQUMsT0FBTyxFQUFFTixPQUFPLGlCQUFpQixDQUFDO1FBQzlDO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3Rhc2tjaGFpbi11aS8uL3BhZ2VzL2FwaS9wcm9maWxlLnRzPzlkOTIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gcGFnZXMvYXBpL3Byb2ZpbGUudHMgLSDQn9C10YDQtdC/0LjRgdCw0L3QvdGL0LkgQVBJINC00LvRjyDQv9GA0L7RhNC40LvRjyDQuCDQvdCw0YHRgtGA0L7QtdC6XHJcbmltcG9ydCB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tICduZXh0J1xyXG5pbXBvcnQgZnMgZnJvbSAnZnMnXHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnXHJcbmltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJ1xyXG5cclxuaW50ZXJmYWNlIFVzZXJQcm9maWxlIHtcclxuICBpZDogc3RyaW5nXHJcbiAgdXNlcm5hbWU6IHN0cmluZ1xyXG4gIGVtYWlsOiBzdHJpbmdcclxuICBmaXJzdE5hbWU/OiBzdHJpbmdcclxuICBsYXN0TmFtZT86IHN0cmluZ1xyXG4gIG5hbWU/OiBzdHJpbmdcclxuICBiaW8/OiBzdHJpbmdcclxuICBza2lsbHM6IHN0cmluZ1tdXHJcbiAgaG91cmx5UmF0ZT86IG51bWJlclxyXG4gIGxvY2F0aW9uPzogc3RyaW5nXHJcbiAgd2Vic2l0ZT86IHN0cmluZ1xyXG4gIGdpdGh1Yj86IHN0cmluZ1xyXG4gIGxpbmtlZGluPzogc3RyaW5nXHJcbiAgdHdpdHRlcj86IHN0cmluZ1xyXG4gIGF2YXRhcj86IHN0cmluZ1xyXG4gIHJhdGluZzogbnVtYmVyXHJcbiAgY29tcGxldGVkUHJvamVjdHM6IG51bWJlclxyXG4gIHRvdGFsRWFybmluZ3M6IG51bWJlclxyXG4gIGpvaW5lZEF0OiBzdHJpbmdcclxuICB2ZXJpZmllZEVtYWlsOiBib29sZWFuXHJcbiAgdmVyaWZpZWRQaG9uZTogYm9vbGVhblxyXG4gIG5vdGlmaWNhdGlvbnM6IHtcclxuICAgIGVtYWlsOiBib29sZWFuXHJcbiAgICBwdXNoOiBib29sZWFuXHJcbiAgICBuZXdUYXNrczogYm9vbGVhblxyXG4gICAgdGFza1VwZGF0ZXM6IGJvb2xlYW5cclxuICAgIG1lc3NhZ2VzOiBib29sZWFuXHJcbiAgICBtYXJrZXRpbmc6IGJvb2xlYW5cclxuICB9XHJcbiAgcHJpdmFjeToge1xyXG4gICAgcHJvZmlsZVZpc2liaWxpdHk6ICdwdWJsaWMnIHwgJ3ByaXZhdGUnXHJcbiAgICBzaG93RW1haWw6IGJvb2xlYW5cclxuICAgIHNob3dTdGF0czogYm9vbGVhblxyXG4gICAgc2hvd0NvbXBsZXRlZFRhc2tzOiBib29sZWFuXHJcbiAgfVxyXG4gIHByZWZlcmVuY2VzOiB7XHJcbiAgICB0aGVtZTogJ2xpZ2h0JyB8ICdkYXJrJ1xyXG4gICAgbGFuZ3VhZ2U6IHN0cmluZ1xyXG4gICAgdGltZXpvbmU6IHN0cmluZ1xyXG4gICAgY3VycmVuY3k6IHN0cmluZ1xyXG4gIH1cclxuICBjcmVhdGVkQXQ6IHN0cmluZ1xyXG4gIHVwZGF0ZWRBdD86IHN0cmluZ1xyXG59XHJcblxyXG4vLyDQn9GD0YLQuCDQuiDRhNCw0LnQu9Cw0LxcclxuY29uc3QgZ2V0VXNlcnNGaWxlUGF0aCA9ICgpID0+IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAnZGF0YScsICd1c2Vycy5qc29uJylcclxuY29uc3QgZ2V0UHJvZmlsZXNGaWxlUGF0aCA9ICgpID0+IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAnZGF0YScsICdwcm9maWxlcy5qc29uJylcclxuY29uc3QgZ2V0U2V0dGluZ3NGaWxlUGF0aCA9ICgpID0+IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAnZGF0YScsICdzZXR0aW5ncy5qc29uJylcclxuXHJcbi8vINCk0YPQvdC60YbQuNC4INC30LDQs9GA0YPQt9C60Lgg0LTQsNC90L3Ri9GFXHJcbmNvbnN0IGxvYWRVc2VycyA9ICgpID0+IHtcclxuICBjb25zdCBmaWxlUGF0aCA9IGdldFVzZXJzRmlsZVBhdGgoKVxyXG4gIGlmICghZnMuZXhpc3RzU3luYyhmaWxlUGF0aCkpIHJldHVybiBbXVxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkYXRhID0gZnMucmVhZEZpbGVTeW5jKGZpbGVQYXRoLCAndXRmOCcpXHJcbiAgICByZXR1cm4gSlNPTi5wYXJzZShkYXRhKVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIHVzZXJzOicsIGVycm9yKVxyXG4gICAgcmV0dXJuIFtdXHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBsb2FkUHJvZmlsZXMgPSAoKTogVXNlclByb2ZpbGVbXSA9PiB7XHJcbiAgY29uc3QgZmlsZVBhdGggPSBnZXRQcm9maWxlc0ZpbGVQYXRoKClcclxuICBpZiAoIWZzLmV4aXN0c1N5bmMoZmlsZVBhdGgpKSByZXR1cm4gW11cclxuICB0cnkge1xyXG4gICAgY29uc3QgZGF0YSA9IGZzLnJlYWRGaWxlU3luYyhmaWxlUGF0aCwgJ3V0ZjgnKVxyXG4gICAgcmV0dXJuIEpTT04ucGFyc2UoZGF0YSlcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyBwcm9maWxlczonLCBlcnJvcilcclxuICAgIHJldHVybiBbXVxyXG4gIH1cclxufVxyXG5cclxuY29uc3QgbG9hZFNldHRpbmdzID0gKCkgPT4ge1xyXG4gIGNvbnN0IGZpbGVQYXRoID0gZ2V0U2V0dGluZ3NGaWxlUGF0aCgpXHJcbiAgaWYgKCFmcy5leGlzdHNTeW5jKGZpbGVQYXRoKSkgcmV0dXJuIFtdXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRhdGEgPSBmcy5yZWFkRmlsZVN5bmMoZmlsZVBhdGgsICd1dGY4JylcclxuICAgIHJldHVybiBKU09OLnBhcnNlKGRhdGEpXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgc2V0dGluZ3M6JywgZXJyb3IpXHJcbiAgICByZXR1cm4gW11cclxuICB9XHJcbn1cclxuXHJcbi8vINCk0YPQvdC60YbQuNC4INGB0L7RhdGA0LDQvdC10L3QuNGPINC00LDQvdC90YvRhVxyXG5jb25zdCBzYXZlUHJvZmlsZXMgPSAocHJvZmlsZXM6IFVzZXJQcm9maWxlW10pID0+IHtcclxuICBjb25zdCBmaWxlUGF0aCA9IGdldFByb2ZpbGVzRmlsZVBhdGgoKVxyXG4gIGNvbnN0IGRpciA9IHBhdGguZGlybmFtZShmaWxlUGF0aClcclxuICBpZiAoIWZzLmV4aXN0c1N5bmMoZGlyKSkge1xyXG4gICAgZnMubWtkaXJTeW5jKGRpciwgeyByZWN1cnNpdmU6IHRydWUgfSlcclxuICB9XHJcbiAgZnMud3JpdGVGaWxlU3luYyhmaWxlUGF0aCwgSlNPTi5zdHJpbmdpZnkocHJvZmlsZXMsIG51bGwsIDIpKVxyXG59XHJcblxyXG5jb25zdCBzYXZlU2V0dGluZ3MgPSAoc2V0dGluZ3M6IGFueVtdKSA9PiB7XHJcbiAgY29uc3QgZmlsZVBhdGggPSBnZXRTZXR0aW5nc0ZpbGVQYXRoKClcclxuICBjb25zdCBkaXIgPSBwYXRoLmRpcm5hbWUoZmlsZVBhdGgpXHJcbiAgaWYgKCFmcy5leGlzdHNTeW5jKGRpcikpIHtcclxuICAgIGZzLm1rZGlyU3luYyhkaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pXHJcbiAgfVxyXG4gIGZzLndyaXRlRmlsZVN5bmMoZmlsZVBhdGgsIEpTT04uc3RyaW5naWZ5KHNldHRpbmdzLCBudWxsLCAyKSlcclxufVxyXG5cclxuY29uc3Qgc2F2ZVVzZXJzID0gKHVzZXJzOiBhbnlbXSkgPT4ge1xyXG4gIGNvbnN0IGZpbGVQYXRoID0gZ2V0VXNlcnNGaWxlUGF0aCgpXHJcbiAgZnMud3JpdGVGaWxlU3luYyhmaWxlUGF0aCwgSlNPTi5zdHJpbmdpZnkodXNlcnMsIG51bGwsIDIpKVxyXG59XHJcblxyXG4vLyDQpNGD0L3QutGG0LjQuCDQsNGD0YLQtdC90YLQuNGE0LjQutCw0YbQuNC4XHJcbmNvbnN0IHZlcmlmeVRva2VuID0gKHRva2VuOiBzdHJpbmcpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgZGVjb2RlZCA9IGp3dC52ZXJpZnkoXHJcbiAgICAgIHRva2VuLCBcclxuICAgICAgcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCB8fCAnd29ya2x5LWxvY2FsLXNlY3JldC1rZXktMjAyNSdcclxuICAgICkgYXMgeyB1c2VySWQ6IHN0cmluZyB9XHJcbiAgICByZXR1cm4gZGVjb2RlZFxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXR1cm4gbnVsbFxyXG4gIH1cclxufVxyXG5cclxuY29uc3QgZ2V0VXNlckZyb21Ub2tlbiA9IChhdXRoSGVhZGVyOiBzdHJpbmcgfCB1bmRlZmluZWQpID0+IHtcclxuICBpZiAoIWF1dGhIZWFkZXIgfHwgIWF1dGhIZWFkZXIuc3RhcnRzV2l0aCgnQmVhcmVyICcpKSByZXR1cm4gbnVsbFxyXG4gIFxyXG4gIGNvbnN0IHRva2VuID0gYXV0aEhlYWRlci5zcGxpdCgnICcpWzFdXHJcbiAgY29uc3QgZGVjb2RlZCA9IHZlcmlmeVRva2VuKHRva2VuKVxyXG4gIGlmICghZGVjb2RlZCkgcmV0dXJuIG51bGxcclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHVzZXJzID0gbG9hZFVzZXJzKClcclxuICAgIGNvbnN0IHVzZXIgPSB1c2Vycy5maW5kKCh1OiBhbnkpID0+IHUuaWQgPT09IGRlY29kZWQudXNlcklkKVxyXG4gICAgaWYgKCF1c2VyKSByZXR1cm4gbnVsbFxyXG4gICAgXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpZDogdXNlci5pZCxcclxuICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWUsXHJcbiAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxyXG4gICAgICBjcmVhdGVkQXQ6IHVzZXIuY3JlYXRlZEF0XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJldHVybiBudWxsXHJcbiAgfVxyXG59XHJcblxyXG4vLyDQodC+0LfQtNCw0L3QuNC1INC00LXRhNC+0LvRgtC90L7Qs9C+INC/0YDQvtGE0LjQu9GPXHJcbmNvbnN0IGNyZWF0ZURlZmF1bHRQcm9maWxlID0gKHVzZXI6IGFueSk6IFVzZXJQcm9maWxlID0+IHtcclxuICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICBcclxuICByZXR1cm4ge1xyXG4gICAgaWQ6IHVzZXIuaWQsXHJcbiAgICB1c2VybmFtZTogdXNlci51c2VybmFtZSxcclxuICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxyXG4gICAgbmFtZTogdXNlci51c2VybmFtZSxcclxuICAgIGZpcnN0TmFtZTogJycsXHJcbiAgICBsYXN0TmFtZTogJycsXHJcbiAgICBiaW86ICcnLFxyXG4gICAgc2tpbGxzOiBbXSxcclxuICAgIGhvdXJseVJhdGU6IDAsXHJcbiAgICBsb2NhdGlvbjogJycsXHJcbiAgICB3ZWJzaXRlOiAnJyxcclxuICAgIGdpdGh1YjogJycsXHJcbiAgICBsaW5rZWRpbjogJycsXHJcbiAgICB0d2l0dGVyOiAnJyxcclxuICAgIGF2YXRhcjogJycsXHJcbiAgICByYXRpbmc6IDQuNSxcclxuICAgIGNvbXBsZXRlZFByb2plY3RzOiAwLFxyXG4gICAgdG90YWxFYXJuaW5nczogMCxcclxuICAgIGpvaW5lZEF0OiB1c2VyLmNyZWF0ZWRBdCB8fCBub3csXHJcbiAgICB2ZXJpZmllZEVtYWlsOiBmYWxzZSxcclxuICAgIHZlcmlmaWVkUGhvbmU6IGZhbHNlLFxyXG4gICAgbm90aWZpY2F0aW9uczoge1xyXG4gICAgICBlbWFpbDogdHJ1ZSxcclxuICAgICAgcHVzaDogdHJ1ZSxcclxuICAgICAgbmV3VGFza3M6IHRydWUsXHJcbiAgICAgIHRhc2tVcGRhdGVzOiB0cnVlLFxyXG4gICAgICBtZXNzYWdlczogdHJ1ZSxcclxuICAgICAgbWFya2V0aW5nOiBmYWxzZVxyXG4gICAgfSxcclxuICAgIHByaXZhY3k6IHtcclxuICAgICAgcHJvZmlsZVZpc2liaWxpdHk6ICdwdWJsaWMnLFxyXG4gICAgICBzaG93RW1haWw6IGZhbHNlLFxyXG4gICAgICBzaG93U3RhdHM6IHRydWUsXHJcbiAgICAgIHNob3dDb21wbGV0ZWRUYXNrczogdHJ1ZVxyXG4gICAgfSxcclxuICAgIHByZWZlcmVuY2VzOiB7XHJcbiAgICAgIHRoZW1lOiAnZGFyaycsXHJcbiAgICAgIGxhbmd1YWdlOiAnZW4nLFxyXG4gICAgICB0aW1lem9uZTogJ1VUQycsXHJcbiAgICAgIGN1cnJlbmN5OiAnVVNEJ1xyXG4gICAgfSxcclxuICAgIGNyZWF0ZWRBdDogdXNlci5jcmVhdGVkQXQgfHwgbm93LFxyXG4gICAgdXBkYXRlZEF0OiBub3dcclxuICB9XHJcbn1cclxuXHJcbi8vINCe0LHRitC10LTQuNC90LXQvdC40LUg0LTQsNC90L3Ri9GFINC40Lcg0YDQsNC30L3Ri9GFINC40YHRgtC+0YfQvdC40LrQvtCyXHJcbmNvbnN0IG1lcmdlUHJvZmlsZURhdGEgPSAocHJvZmlsZTogVXNlclByb2ZpbGUgfCBudWxsLCBzZXR0aW5nczogYW55IHwgbnVsbCwgdXNlcjogYW55KTogVXNlclByb2ZpbGUgPT4ge1xyXG4gIGNvbnN0IGRlZmF1bHRQcm9maWxlID0gY3JlYXRlRGVmYXVsdFByb2ZpbGUodXNlcilcclxuICBcclxuICBpZiAoIXByb2ZpbGUgJiYgIXNldHRpbmdzKSB7XHJcbiAgICByZXR1cm4gZGVmYXVsdFByb2ZpbGVcclxuICB9XHJcbiAgXHJcbiAgLy8g0J7QsdGK0LXQtNC40L3Rj9C10Lwg0LTQsNC90L3Ri9C1INGBINC/0YDQuNC+0YDQuNGC0LXRgtC+0Lw6IHNldHRpbmdzID4gcHJvZmlsZSA+IGRlZmF1bHRcclxuICBjb25zdCBtZXJnZWQ6IFVzZXJQcm9maWxlID0ge1xyXG4gICAgLi4uZGVmYXVsdFByb2ZpbGUsXHJcbiAgICAuLi5wcm9maWxlLFxyXG4gICAgLi4uc2V0dGluZ3MsXHJcbiAgICAvLyDQk9Cw0YDQsNC90YLQuNGA0YPQtdC8INC+0LHRj9C30LDRgtC10LvRjNC90YvQtSDQv9C+0LvRj1xyXG4gICAgaWQ6IHVzZXIuaWQsXHJcbiAgICB1c2VybmFtZTogdXNlci51c2VybmFtZSxcclxuICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxyXG4gICAgc2tpbGxzOiBwcm9maWxlPy5za2lsbHMgfHwgc2V0dGluZ3M/LnNraWxscyB8fCBbXSxcclxuICAgIHJhdGluZzogcHJvZmlsZT8ucmF0aW5nIHx8IHNldHRpbmdzPy5yYXRpbmcgfHwgNC41LFxyXG4gICAgY29tcGxldGVkUHJvamVjdHM6IHByb2ZpbGU/LmNvbXBsZXRlZFByb2plY3RzIHx8IDAsXHJcbiAgICB0b3RhbEVhcm5pbmdzOiBwcm9maWxlPy50b3RhbEVhcm5pbmdzIHx8IDAsXHJcbiAgICB2ZXJpZmllZEVtYWlsOiBwcm9maWxlPy52ZXJpZmllZEVtYWlsIHx8IGZhbHNlLFxyXG4gICAgdmVyaWZpZWRQaG9uZTogcHJvZmlsZT8udmVyaWZpZWRQaG9uZSB8fCBmYWxzZSxcclxuICAgIG5vdGlmaWNhdGlvbnM6IHtcclxuICAgICAgLi4uZGVmYXVsdFByb2ZpbGUubm90aWZpY2F0aW9ucyxcclxuICAgICAgLi4uKHByb2ZpbGU/Lm5vdGlmaWNhdGlvbnMgfHwge30pLFxyXG4gICAgICAuLi4oc2V0dGluZ3M/Lm5vdGlmaWNhdGlvbnMgfHwge30pXHJcbiAgICB9LFxyXG4gICAgcHJpdmFjeToge1xyXG4gICAgICAuLi5kZWZhdWx0UHJvZmlsZS5wcml2YWN5LFxyXG4gICAgICAuLi4ocHJvZmlsZT8ucHJpdmFjeSB8fCB7fSksXHJcbiAgICAgIC4uLihzZXR0aW5ncz8ucHJpdmFjeSB8fCB7fSlcclxuICAgIH0sXHJcbiAgICBwcmVmZXJlbmNlczoge1xyXG4gICAgICAuLi5kZWZhdWx0UHJvZmlsZS5wcmVmZXJlbmNlcyxcclxuICAgICAgLi4uKHByb2ZpbGU/LnByZWZlcmVuY2VzIHx8IHt9KSxcclxuICAgICAgLi4uKHNldHRpbmdzPy5wcmVmZXJlbmNlcyB8fCB7fSlcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgcmV0dXJuIG1lcmdlZFxyXG59XHJcblxyXG4vLyDQpNC40LvRjNGC0YDQsNGG0LjRjyDQvtCx0L3QvtCy0LvQtdC90LjQuVxyXG5jb25zdCBmaWx0ZXJVcGRhdGVzID0gKHVwZGF0ZXM6IGFueSkgPT4ge1xyXG4gIGNvbnN0IGZpbHRlcmVkOiBhbnkgPSB7fVxyXG4gIFxyXG4gIC8vINCf0YDQvtGE0LjQu9GM0L3Ri9C1INC/0L7Qu9GPXHJcbiAgY29uc3QgcHJvZmlsZUZpZWxkcyA9IFtcclxuICAgICdmaXJzdE5hbWUnLCAnbGFzdE5hbWUnLCAnYmlvJywgJ3NraWxscycsICdob3VybHlSYXRlJywgXHJcbiAgICAnbG9jYXRpb24nLCAnd2Vic2l0ZScsICdnaXRodWInLCAnbGlua2VkaW4nLCAndHdpdHRlcicsIFxyXG4gICAgJ2F2YXRhcicsICdyYXRpbmcnLCAnY29tcGxldGVkUHJvamVjdHMnLCAndG90YWxFYXJuaW5ncycsXHJcbiAgICAndmVyaWZpZWRFbWFpbCcsICd2ZXJpZmllZFBob25lJ1xyXG4gIF1cclxuICBcclxuICAvLyDQndCw0YHRgtGA0L7QtdGH0L3Ri9C1INC/0L7Qu9GPXHJcbiAgY29uc3Qgc2V0dGluZ3NGaWVsZHMgPSBbXHJcbiAgICAnbmFtZScsICd1c2VybmFtZScsICdub3RpZmljYXRpb25zJywgJ3ByaXZhY3knLCAncHJlZmVyZW5jZXMnXHJcbiAgXVxyXG4gIFxyXG4gIC8vINCa0L7Qv9C40YDRg9C10Lwg0YLQvtC70YzQutC+INCy0LDQu9C40LTQvdGL0LUg0L/QvtC70Y9cclxuICBjb25zdCBhbGxGaWVsZHMgPSBbLi4ucHJvZmlsZUZpZWxkcywgLi4uc2V0dGluZ3NGaWVsZHNdXHJcbiAgYWxsRmllbGRzLmZvckVhY2goZmllbGQgPT4ge1xyXG4gICAgaWYgKHVwZGF0ZXNbZmllbGRdICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgZmlsdGVyZWRbZmllbGRdID0gdXBkYXRlc1tmaWVsZF1cclxuICAgIH1cclxuICB9KVxyXG4gIFxyXG4gIHJldHVybiBmaWx0ZXJlZFxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcTogTmV4dEFwaVJlcXVlc3QsIHJlczogTmV4dEFwaVJlc3BvbnNlKSB7XHJcbiAgY29uc3QgeyBtZXRob2QgfSA9IHJlcVxyXG5cclxuICAvLyDQkNGD0YLQtdC90YLQuNGE0LjQutCw0YbQuNGPXHJcbiAgY29uc3QgY3VycmVudFVzZXIgPSBnZXRVc2VyRnJvbVRva2VuKHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24pXHJcbiAgXHJcbiAgaWYgKCFjdXJyZW50VXNlcikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHtcclxuICAgICAgZXJyb3I6ICdVbmF1dGhvcml6ZWQnLFxyXG4gICAgICBtZXNzYWdlOiAnQXV0aGVudGljYXRpb24gcmVxdWlyZWQnXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgaWYgKG1ldGhvZCA9PT0gJ0dFVCcpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGFsbFByb2ZpbGVzID0gbG9hZFByb2ZpbGVzKClcclxuICAgICAgY29uc3QgYWxsU2V0dGluZ3MgPSBsb2FkU2V0dGluZ3MoKVxyXG4gICAgICBcclxuICAgICAgY29uc3QgdXNlclByb2ZpbGUgPSBhbGxQcm9maWxlcy5maW5kKChwOiBVc2VyUHJvZmlsZSkgPT4gcC5pZCA9PT0gY3VycmVudFVzZXIuaWQpIHx8IG51bGxcclxuICAgICAgY29uc3QgdXNlclNldHRpbmdzID0gYWxsU2V0dGluZ3MuZmluZCgoczogYW55KSA9PiBzLmlkID09PSBjdXJyZW50VXNlci5pZCkgfHwgbnVsbFxyXG4gICAgICBcclxuICAgICAgY29uc3QgbWVyZ2VkUHJvZmlsZSA9IG1lcmdlUHJvZmlsZURhdGEodXNlclByb2ZpbGUsIHVzZXJTZXR0aW5ncywgY3VycmVudFVzZXIpXHJcbiAgICAgIFxyXG4gICAgXHJcbiAgICAgIGlmICghdXNlclByb2ZpbGUpIHtcclxuICAgICAgICBhbGxQcm9maWxlcy5wdXNoKG1lcmdlZFByb2ZpbGUpXHJcbiAgICAgICAgc2F2ZVByb2ZpbGVzKGFsbFByb2ZpbGVzKVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBpZiAoIXVzZXJTZXR0aW5ncykge1xyXG4gICAgICAgIGFsbFNldHRpbmdzLnB1c2gobWVyZ2VkUHJvZmlsZSlcclxuICAgICAgICBzYXZlU2V0dGluZ3MoYWxsU2V0dGluZ3MpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIHByb2ZpbGU6IG1lcmdlZFByb2ZpbGVcclxuICAgICAgfSlcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdHZXQgcHJvZmlsZSBlcnJvcjonLCBlcnJvcilcclxuICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICAgIGVycm9yOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyxcclxuICAgICAgICBtZXNzYWdlOiAnRmFpbGVkIHRvIGdldCBwcm9maWxlJ1xyXG4gICAgICB9KVxyXG4gICAgfVxyXG5cclxuICB9IGVsc2UgaWYgKG1ldGhvZCA9PT0gJ1BVVCcpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJhd1VwZGF0ZXMgPSByZXEuYm9keVxyXG4gICAgICBjb25zdCB1cGRhdGVzID0gZmlsdGVyVXBkYXRlcyhyYXdVcGRhdGVzKVxyXG4gICAgICBcclxuICAgICAgLy8g0JLQsNC70LjQtNCw0YbQuNGPIHVzZXJuYW1lXHJcbiAgICAgIGlmICh1cGRhdGVzLnVzZXJuYW1lICYmIHVwZGF0ZXMudXNlcm5hbWUgIT09IGN1cnJlbnRVc2VyLnVzZXJuYW1lKSB7XHJcbiAgICAgICAgY29uc3QgdXNlcnMgPSBsb2FkVXNlcnMoKVxyXG4gICAgICAgIGNvbnN0IGV4aXN0aW5nVXNlciA9IHVzZXJzLmZpbmQoKHU6IGFueSkgPT4gXHJcbiAgICAgICAgICB1LnVzZXJuYW1lID09PSB1cGRhdGVzLnVzZXJuYW1lLnRvTG93ZXJDYXNlKCkgJiYgdS5pZCAhPT0gY3VycmVudFVzZXIuaWRcclxuICAgICAgICApXHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGV4aXN0aW5nVXNlcikge1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgXHJcbiAgICAgICAgICAgIGVycm9yOiAnVXNlcm5hbWUgYWxyZWFkeSB0YWtlbicsXHJcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdUaGlzIHVzZXJuYW1lIGlzIGFscmVhZHkgaW4gdXNlIGJ5IGFub3RoZXIgdXNlcidcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBhbGxQcm9maWxlcyA9IGxvYWRQcm9maWxlcygpXHJcbiAgICAgIGNvbnN0IGFsbFNldHRpbmdzID0gbG9hZFNldHRpbmdzKClcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHByb2ZpbGVJbmRleCA9IGFsbFByb2ZpbGVzLmZpbmRJbmRleCgocDogVXNlclByb2ZpbGUpID0+IHAuaWQgPT09IGN1cnJlbnRVc2VyLmlkKVxyXG4gICAgICBjb25zdCBzZXR0aW5nc0luZGV4ID0gYWxsU2V0dGluZ3MuZmluZEluZGV4KChzOiBhbnkpID0+IHMuaWQgPT09IGN1cnJlbnRVc2VyLmlkKVxyXG4gICAgICBcclxuICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBjdXJyZW50UHJvZmlsZSA9IGFsbFByb2ZpbGVzW3Byb2ZpbGVJbmRleF0gfHwgbnVsbFxyXG4gICAgICBjb25zdCBjdXJyZW50U2V0dGluZ3MgPSBhbGxTZXR0aW5nc1tzZXR0aW5nc0luZGV4XSB8fCBudWxsXHJcbiAgICAgIFxyXG4gICAgICBjb25zdCB1cGRhdGVkUHJvZmlsZSA9IG1lcmdlUHJvZmlsZURhdGEoY3VycmVudFByb2ZpbGUsIGN1cnJlbnRTZXR0aW5ncywgY3VycmVudFVzZXIpXHJcbiAgICAgIFxyXG4gICAgICBPYmplY3Qua2V5cyh1cGRhdGVzKS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgaWYgKHVwZGF0ZXNba2V5XSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICA7KHVwZGF0ZWRQcm9maWxlIGFzIGFueSlba2V5XSA9IHVwZGF0ZXNba2V5XVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICAgXHJcbiAgICAgIHVwZGF0ZWRQcm9maWxlLnVwZGF0ZWRBdCA9IG5vd1xyXG4gICAgICBcclxuICAgICAgaWYgKHByb2ZpbGVJbmRleCA9PT0gLTEpIHtcclxuICAgICAgICBhbGxQcm9maWxlcy5wdXNoKHVwZGF0ZWRQcm9maWxlKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFsbFByb2ZpbGVzW3Byb2ZpbGVJbmRleF0gPSB1cGRhdGVkUHJvZmlsZVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBpZiAoc2V0dGluZ3NJbmRleCA9PT0gLTEpIHtcclxuICAgICAgICBhbGxTZXR0aW5ncy5wdXNoKHVwZGF0ZWRQcm9maWxlKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFsbFNldHRpbmdzW3NldHRpbmdzSW5kZXhdID0gdXBkYXRlZFByb2ZpbGVcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgc2F2ZVByb2ZpbGVzKGFsbFByb2ZpbGVzKVxyXG4gICAgICBzYXZlU2V0dGluZ3MoYWxsU2V0dGluZ3MpXHJcbiAgICAgIFxyXG4gICAgICBpZiAodXBkYXRlcy51c2VybmFtZSAmJiB1cGRhdGVzLnVzZXJuYW1lICE9PSBjdXJyZW50VXNlci51c2VybmFtZSkge1xyXG4gICAgICAgIGNvbnN0IHVzZXJzID0gbG9hZFVzZXJzKClcclxuICAgICAgICBjb25zdCB1c2VySW5kZXggPSB1c2Vycy5maW5kSW5kZXgoKHU6IGFueSkgPT4gdS5pZCA9PT0gY3VycmVudFVzZXIuaWQpXHJcbiAgICAgICAgaWYgKHVzZXJJbmRleCAhPT0gLTEpIHtcclxuICAgICAgICAgIHVzZXJzW3VzZXJJbmRleF0udXNlcm5hbWUgPSB1cGRhdGVzLnVzZXJuYW1lLnRvTG93ZXJDYXNlKClcclxuICAgICAgICAgIHNhdmVVc2Vycyh1c2VycylcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIHByb2ZpbGU6IHVwZGF0ZWRQcm9maWxlXHJcbiAgICAgIH0pXHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignVXBkYXRlIHByb2ZpbGUgZXJyb3I6JywgZXJyb3IpXHJcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgICBlcnJvcjogJ0ludGVybmFsIHNlcnZlciBlcnJvcicsXHJcbiAgICAgICAgbWVzc2FnZTogJ0ZhaWxlZCB0byB1cGRhdGUgcHJvZmlsZSdcclxuICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgfSBlbHNlIHtcclxuICAgIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgXHJcbiAgICAgIGVycm9yOiAnTWV0aG9kIG5vdCBhbGxvd2VkJyxcclxuICAgICAgbWVzc2FnZTogYE1ldGhvZCAke21ldGhvZH0gaXMgbm90IHN1cHBvcnRlZGBcclxuICAgIH0pXHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbImZzIiwicGF0aCIsImp3dCIsImdldFVzZXJzRmlsZVBhdGgiLCJqb2luIiwicHJvY2VzcyIsImN3ZCIsImdldFByb2ZpbGVzRmlsZVBhdGgiLCJnZXRTZXR0aW5nc0ZpbGVQYXRoIiwibG9hZFVzZXJzIiwiZmlsZVBhdGgiLCJleGlzdHNTeW5jIiwiZGF0YSIsInJlYWRGaWxlU3luYyIsIkpTT04iLCJwYXJzZSIsImVycm9yIiwiY29uc29sZSIsImxvYWRQcm9maWxlcyIsImxvYWRTZXR0aW5ncyIsInNhdmVQcm9maWxlcyIsInByb2ZpbGVzIiwiZGlyIiwiZGlybmFtZSIsIm1rZGlyU3luYyIsInJlY3Vyc2l2ZSIsIndyaXRlRmlsZVN5bmMiLCJzdHJpbmdpZnkiLCJzYXZlU2V0dGluZ3MiLCJzZXR0aW5ncyIsInNhdmVVc2VycyIsInVzZXJzIiwidmVyaWZ5VG9rZW4iLCJ0b2tlbiIsImRlY29kZWQiLCJ2ZXJpZnkiLCJlbnYiLCJKV1RfU0VDUkVUIiwiZ2V0VXNlckZyb21Ub2tlbiIsImF1dGhIZWFkZXIiLCJzdGFydHNXaXRoIiwic3BsaXQiLCJ1c2VyIiwiZmluZCIsInUiLCJpZCIsInVzZXJJZCIsInVzZXJuYW1lIiwiZW1haWwiLCJjcmVhdGVkQXQiLCJjcmVhdGVEZWZhdWx0UHJvZmlsZSIsIm5vdyIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsIm5hbWUiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsImJpbyIsInNraWxscyIsImhvdXJseVJhdGUiLCJsb2NhdGlvbiIsIndlYnNpdGUiLCJnaXRodWIiLCJsaW5rZWRpbiIsInR3aXR0ZXIiLCJhdmF0YXIiLCJyYXRpbmciLCJjb21wbGV0ZWRQcm9qZWN0cyIsInRvdGFsRWFybmluZ3MiLCJqb2luZWRBdCIsInZlcmlmaWVkRW1haWwiLCJ2ZXJpZmllZFBob25lIiwibm90aWZpY2F0aW9ucyIsInB1c2giLCJuZXdUYXNrcyIsInRhc2tVcGRhdGVzIiwibWVzc2FnZXMiLCJtYXJrZXRpbmciLCJwcml2YWN5IiwicHJvZmlsZVZpc2liaWxpdHkiLCJzaG93RW1haWwiLCJzaG93U3RhdHMiLCJzaG93Q29tcGxldGVkVGFza3MiLCJwcmVmZXJlbmNlcyIsInRoZW1lIiwibGFuZ3VhZ2UiLCJ0aW1lem9uZSIsImN1cnJlbmN5IiwidXBkYXRlZEF0IiwibWVyZ2VQcm9maWxlRGF0YSIsInByb2ZpbGUiLCJkZWZhdWx0UHJvZmlsZSIsIm1lcmdlZCIsImZpbHRlclVwZGF0ZXMiLCJ1cGRhdGVzIiwiZmlsdGVyZWQiLCJwcm9maWxlRmllbGRzIiwic2V0dGluZ3NGaWVsZHMiLCJhbGxGaWVsZHMiLCJmb3JFYWNoIiwiZmllbGQiLCJ1bmRlZmluZWQiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwiY3VycmVudFVzZXIiLCJoZWFkZXJzIiwiYXV0aG9yaXphdGlvbiIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwiYWxsUHJvZmlsZXMiLCJhbGxTZXR0aW5ncyIsInVzZXJQcm9maWxlIiwicCIsInVzZXJTZXR0aW5ncyIsInMiLCJtZXJnZWRQcm9maWxlIiwic3VjY2VzcyIsInJhd1VwZGF0ZXMiLCJib2R5IiwiZXhpc3RpbmdVc2VyIiwidG9Mb3dlckNhc2UiLCJwcm9maWxlSW5kZXgiLCJmaW5kSW5kZXgiLCJzZXR0aW5nc0luZGV4IiwiY3VycmVudFByb2ZpbGUiLCJjdXJyZW50U2V0dGluZ3MiLCJ1cGRhdGVkUHJvZmlsZSIsIk9iamVjdCIsImtleXMiLCJrZXkiLCJ1c2VySW5kZXgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/profile.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/profile.ts"));
module.exports = __webpack_exports__;

})();