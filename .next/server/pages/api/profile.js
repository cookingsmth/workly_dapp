"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/profile";
exports.ids = ["pages/api/profile"];
exports.modules = {

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(api)/./pages/api/profile.ts":
/*!******************************!*\
  !*** ./pages/api/profile.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__);\n// pages/api/profile.ts - Переписанный API для профиля и настроек\n\n\n\n// Пути к файлам\nconst getUsersFilePath = ()=>path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"data\", \"users.json\");\nconst getProfilesFilePath = ()=>path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"data\", \"profiles.json\");\nconst getSettingsFilePath = ()=>path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"data\", \"settings.json\");\n// Функции загрузки данных\nconst loadUsers = ()=>{\n    const filePath = getUsersFilePath();\n    if (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(filePath)) return [];\n    try {\n        const data = fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(filePath, \"utf8\");\n        return JSON.parse(data);\n    } catch (error) {\n        console.error(\"Error loading users:\", error);\n        return [];\n    }\n};\nconst loadProfiles = ()=>{\n    const filePath = getProfilesFilePath();\n    if (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(filePath)) return [];\n    try {\n        const data = fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(filePath, \"utf8\");\n        return JSON.parse(data);\n    } catch (error) {\n        console.error(\"Error loading profiles:\", error);\n        return [];\n    }\n};\nconst loadSettings = ()=>{\n    const filePath = getSettingsFilePath();\n    if (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(filePath)) return [];\n    try {\n        const data = fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(filePath, \"utf8\");\n        return JSON.parse(data);\n    } catch (error) {\n        console.error(\"Error loading settings:\", error);\n        return [];\n    }\n};\n// Функции сохранения данных\nconst saveProfiles = (profiles)=>{\n    const filePath = getProfilesFilePath();\n    const dir = path__WEBPACK_IMPORTED_MODULE_1___default().dirname(filePath);\n    if (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(dir)) {\n        fs__WEBPACK_IMPORTED_MODULE_0___default().mkdirSync(dir, {\n            recursive: true\n        });\n    }\n    fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(filePath, JSON.stringify(profiles, null, 2));\n};\nconst saveSettings = (settings)=>{\n    const filePath = getSettingsFilePath();\n    const dir = path__WEBPACK_IMPORTED_MODULE_1___default().dirname(filePath);\n    if (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(dir)) {\n        fs__WEBPACK_IMPORTED_MODULE_0___default().mkdirSync(dir, {\n            recursive: true\n        });\n    }\n    fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(filePath, JSON.stringify(settings, null, 2));\n};\nconst saveUsers = (users)=>{\n    const filePath = getUsersFilePath();\n    fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(filePath, JSON.stringify(users, null, 2));\n};\n// Функции аутентификации\nconst verifyToken = (token)=>{\n    try {\n        const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default().verify(token, process.env.JWT_SECRET || \"workly-local-secret-key-2025\");\n        return decoded;\n    } catch (error) {\n        return null;\n    }\n};\nconst getUserFromToken = (authHeader)=>{\n    if (!authHeader || !authHeader.startsWith(\"Bearer \")) return null;\n    const token = authHeader.split(\" \")[1];\n    const decoded = verifyToken(token);\n    if (!decoded) return null;\n    try {\n        const users = loadUsers();\n        const user = users.find((u)=>u.id === decoded.userId);\n        if (!user) return null;\n        return {\n            id: user.id,\n            username: user.username,\n            email: user.email,\n            createdAt: user.createdAt\n        };\n    } catch (error) {\n        return null;\n    }\n};\n// Создание дефолтного профиля\nconst createDefaultProfile = (user)=>{\n    const now = new Date().toISOString();\n    return {\n        id: user.id,\n        username: user.username,\n        email: user.email,\n        name: user.username,\n        firstName: \"\",\n        lastName: \"\",\n        bio: \"\",\n        skills: [],\n        hourlyRate: 0,\n        location: \"\",\n        website: \"\",\n        github: \"\",\n        linkedin: \"\",\n        twitter: \"\",\n        avatar: \"\",\n        rating: 4.5,\n        completedProjects: 0,\n        totalEarnings: 0,\n        joinedAt: user.createdAt || now,\n        verifiedEmail: false,\n        verifiedPhone: false,\n        notifications: {\n            email: true,\n            push: true,\n            newTasks: true,\n            taskUpdates: true,\n            messages: true,\n            marketing: false\n        },\n        privacy: {\n            profileVisibility: \"public\",\n            showEmail: false,\n            showStats: true,\n            showCompletedTasks: true\n        },\n        preferences: {\n            theme: \"dark\",\n            language: \"en\",\n            timezone: \"UTC\",\n            currency: \"USD\"\n        },\n        createdAt: user.createdAt || now,\n        updatedAt: now\n    };\n};\n// Объединение данных из разных источников\nconst mergeProfileData = (profile, settings, user)=>{\n    const defaultProfile = createDefaultProfile(user);\n    if (!profile && !settings) {\n        return defaultProfile;\n    }\n    // Объединяем данные с приоритетом: settings > profile > default\n    const merged = {\n        ...defaultProfile,\n        ...profile,\n        ...settings,\n        // Гарантируем обязательные поля\n        id: user.id,\n        username: user.username,\n        email: user.email,\n        skills: profile?.skills || settings?.skills || [],\n        rating: profile?.rating || settings?.rating || 4.5,\n        completedProjects: profile?.completedProjects || 0,\n        totalEarnings: profile?.totalEarnings || 0,\n        verifiedEmail: profile?.verifiedEmail || false,\n        verifiedPhone: profile?.verifiedPhone || false,\n        notifications: {\n            ...defaultProfile.notifications,\n            ...profile?.notifications || {},\n            ...settings?.notifications || {}\n        },\n        privacy: {\n            ...defaultProfile.privacy,\n            ...profile?.privacy || {},\n            ...settings?.privacy || {}\n        },\n        preferences: {\n            ...defaultProfile.preferences,\n            ...profile?.preferences || {},\n            ...settings?.preferences || {}\n        }\n    };\n    return merged;\n};\n// Фильтрация обновлений\nconst filterUpdates = (updates)=>{\n    const filtered = {};\n    // Профильные поля\n    const profileFields = [\n        \"firstName\",\n        \"lastName\",\n        \"bio\",\n        \"skills\",\n        \"hourlyRate\",\n        \"location\",\n        \"website\",\n        \"github\",\n        \"linkedin\",\n        \"twitter\",\n        \"avatar\",\n        \"rating\",\n        \"completedProjects\",\n        \"totalEarnings\",\n        \"verifiedEmail\",\n        \"verifiedPhone\"\n    ];\n    // Настроечные поля\n    const settingsFields = [\n        \"name\",\n        \"username\",\n        \"notifications\",\n        \"privacy\",\n        \"preferences\"\n    ];\n    // Копируем только валидные поля\n    const allFields = [\n        ...profileFields,\n        ...settingsFields\n    ];\n    allFields.forEach((field)=>{\n        if (updates[field] !== undefined) {\n            filtered[field] = updates[field];\n        }\n    });\n    return filtered;\n};\nasync function handler(req, res) {\n    const { method } = req;\n    // Аутентификация\n    const currentUser = getUserFromToken(req.headers.authorization);\n    if (!currentUser) {\n        return res.status(401).json({\n            error: \"Unauthorized\",\n            message: \"Authentication required\"\n        });\n    }\n    if (method === \"GET\") {\n        try {\n            const allProfiles = loadProfiles();\n            const allSettings = loadSettings();\n            const userProfile = allProfiles.find((p)=>p.id === currentUser.id) || null;\n            const userSettings = allSettings.find((s)=>s.id === currentUser.id) || null;\n            // Объединяем и возвращаем данные\n            const mergedProfile = mergeProfileData(userProfile, userSettings, currentUser);\n            // Если профиля не было, сохраняем созданный по умолчанию\n            if (!userProfile) {\n                allProfiles.push(mergedProfile);\n                saveProfiles(allProfiles);\n            }\n            if (!userSettings) {\n                allSettings.push(mergedProfile);\n                saveSettings(allSettings);\n            }\n            res.status(200).json({\n                success: true,\n                profile: mergedProfile\n            });\n        } catch (error) {\n            console.error(\"Get profile error:\", error);\n            res.status(500).json({\n                error: \"Internal server error\",\n                message: \"Failed to get profile\"\n            });\n        }\n    } else if (method === \"PUT\") {\n        try {\n            const rawUpdates = req.body;\n            const updates = filterUpdates(rawUpdates);\n            // Валидация username\n            if (updates.username && updates.username !== currentUser.username) {\n                const users = loadUsers();\n                const existingUser = users.find((u)=>u.username === updates.username.toLowerCase() && u.id !== currentUser.id);\n                if (existingUser) {\n                    return res.status(400).json({\n                        error: \"Username already taken\",\n                        message: \"This username is already in use by another user\"\n                    });\n                }\n            }\n            const allProfiles = loadProfiles();\n            const allSettings = loadSettings();\n            const profileIndex = allProfiles.findIndex((p)=>p.id === currentUser.id);\n            const settingsIndex = allSettings.findIndex((s)=>s.id === currentUser.id);\n            const now = new Date().toISOString();\n            // Получаем текущие данные\n            const currentProfile = allProfiles[profileIndex] || null;\n            const currentSettings = allSettings[settingsIndex] || null;\n            // Создаем обновленный профиль\n            const updatedProfile = mergeProfileData(currentProfile, currentSettings, currentUser);\n            // Применяем обновления\n            Object.keys(updates).forEach((key)=>{\n                if (updates[key] !== undefined) {\n                    updatedProfile[key] = updates[key];\n                }\n            });\n            updatedProfile.updatedAt = now;\n            // Сохраняем в profiles\n            if (profileIndex === -1) {\n                allProfiles.push(updatedProfile);\n            } else {\n                allProfiles[profileIndex] = updatedProfile;\n            }\n            // Сохраняем в settings\n            if (settingsIndex === -1) {\n                allSettings.push(updatedProfile);\n            } else {\n                allSettings[settingsIndex] = updatedProfile;\n            }\n            saveProfiles(allProfiles);\n            saveSettings(allSettings);\n            // Обновляем username в users.json если изменился\n            if (updates.username && updates.username !== currentUser.username) {\n                const users = loadUsers();\n                const userIndex = users.findIndex((u)=>u.id === currentUser.id);\n                if (userIndex !== -1) {\n                    users[userIndex].username = updates.username.toLowerCase();\n                    saveUsers(users);\n                }\n            }\n            res.status(200).json({\n                success: true,\n                profile: updatedProfile\n            });\n        } catch (error) {\n            console.error(\"Update profile error:\", error);\n            res.status(500).json({\n                error: \"Internal server error\",\n                message: \"Failed to update profile\"\n            });\n        }\n    } else {\n        res.status(405).json({\n            error: \"Method not allowed\",\n            message: `Method ${method} is not supported`\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFBSStDLFFBQVEvQyxRQUFRLEtBQUsyRCxZQUFZM0QsUUFBUSxFQUFFO2dCQUNqRSxNQUFNaEIsUUFBUXRCO2dCQUNkLE1BQU00SCxZQUFZdEcsTUFBTThGLFNBQVMsQ0FBQyxDQUFDakYsSUFBV0EsRUFBRUMsRUFBRSxLQUFLNkQsWUFBWTdELEVBQUU7Z0JBQ3JFLElBQUl3RixjQUFjLENBQUMsR0FBRztvQkFDcEJ0RyxLQUFLLENBQUNzRyxVQUFVLENBQUN0RixRQUFRLEdBQUcrQyxRQUFRL0MsUUFBUSxDQUFDNEUsV0FBVztvQkFDeEQ3RixVQUFVQztnQkFDWjtZQUNGO1lBRUF5RSxJQUFJSyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUNuQlMsU0FBUztnQkFDVDdCLFNBQVN1QztZQUNYO1FBRUYsRUFBRSxPQUFPakgsT0FBTztZQUNkQyxRQUFRRCxLQUFLLENBQUMseUJBQXlCQTtZQUN2Q3dGLElBQUlLLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQ25COUYsT0FBTztnQkFDUCtGLFNBQVM7WUFDWDtRQUNGO0lBRUYsT0FBTztRQUNMUCxJQUFJSyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQ25COUYsT0FBTztZQUNQK0YsU0FBUyxDQUFDLE9BQU8sRUFBRU4sT0FBTyxpQkFBaUIsQ0FBQztRQUM5QztJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90YXNrY2hhaW4tdWkvLi9wYWdlcy9hcGkvcHJvZmlsZS50cz85ZDkyIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHBhZ2VzL2FwaS9wcm9maWxlLnRzIC0g0J/QtdGA0LXQv9C40YHQsNC90L3Ri9C5IEFQSSDQtNC70Y8g0L/RgNC+0YTQuNC70Y8g0Lgg0L3QsNGB0YLRgNC+0LXQulxyXG5pbXBvcnQgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSAnbmV4dCdcclxuaW1wb3J0IGZzIGZyb20gJ2ZzJ1xyXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJ1xyXG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbidcclxuXHJcbmludGVyZmFjZSBVc2VyUHJvZmlsZSB7XHJcbiAgaWQ6IHN0cmluZ1xyXG4gIHVzZXJuYW1lOiBzdHJpbmdcclxuICBlbWFpbDogc3RyaW5nXHJcbiAgZmlyc3ROYW1lPzogc3RyaW5nXHJcbiAgbGFzdE5hbWU/OiBzdHJpbmdcclxuICBuYW1lPzogc3RyaW5nXHJcbiAgYmlvPzogc3RyaW5nXHJcbiAgc2tpbGxzOiBzdHJpbmdbXVxyXG4gIGhvdXJseVJhdGU/OiBudW1iZXJcclxuICBsb2NhdGlvbj86IHN0cmluZ1xyXG4gIHdlYnNpdGU/OiBzdHJpbmdcclxuICBnaXRodWI/OiBzdHJpbmdcclxuICBsaW5rZWRpbj86IHN0cmluZ1xyXG4gIHR3aXR0ZXI/OiBzdHJpbmdcclxuICBhdmF0YXI/OiBzdHJpbmdcclxuICByYXRpbmc6IG51bWJlclxyXG4gIGNvbXBsZXRlZFByb2plY3RzOiBudW1iZXJcclxuICB0b3RhbEVhcm5pbmdzOiBudW1iZXJcclxuICBqb2luZWRBdDogc3RyaW5nXHJcbiAgdmVyaWZpZWRFbWFpbDogYm9vbGVhblxyXG4gIHZlcmlmaWVkUGhvbmU6IGJvb2xlYW5cclxuICBub3RpZmljYXRpb25zOiB7XHJcbiAgICBlbWFpbDogYm9vbGVhblxyXG4gICAgcHVzaDogYm9vbGVhblxyXG4gICAgbmV3VGFza3M6IGJvb2xlYW5cclxuICAgIHRhc2tVcGRhdGVzOiBib29sZWFuXHJcbiAgICBtZXNzYWdlczogYm9vbGVhblxyXG4gICAgbWFya2V0aW5nOiBib29sZWFuXHJcbiAgfVxyXG4gIHByaXZhY3k6IHtcclxuICAgIHByb2ZpbGVWaXNpYmlsaXR5OiAncHVibGljJyB8ICdwcml2YXRlJ1xyXG4gICAgc2hvd0VtYWlsOiBib29sZWFuXHJcbiAgICBzaG93U3RhdHM6IGJvb2xlYW5cclxuICAgIHNob3dDb21wbGV0ZWRUYXNrczogYm9vbGVhblxyXG4gIH1cclxuICBwcmVmZXJlbmNlczoge1xyXG4gICAgdGhlbWU6ICdsaWdodCcgfCAnZGFyaydcclxuICAgIGxhbmd1YWdlOiBzdHJpbmdcclxuICAgIHRpbWV6b25lOiBzdHJpbmdcclxuICAgIGN1cnJlbmN5OiBzdHJpbmdcclxuICB9XHJcbiAgY3JlYXRlZEF0OiBzdHJpbmdcclxuICB1cGRhdGVkQXQ/OiBzdHJpbmdcclxufVxyXG5cclxuLy8g0J/Rg9GC0Lgg0Log0YTQsNC50LvQsNC8XHJcbmNvbnN0IGdldFVzZXJzRmlsZVBhdGggPSAoKSA9PiBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ2RhdGEnLCAndXNlcnMuanNvbicpXHJcbmNvbnN0IGdldFByb2ZpbGVzRmlsZVBhdGggPSAoKSA9PiBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ2RhdGEnLCAncHJvZmlsZXMuanNvbicpXHJcbmNvbnN0IGdldFNldHRpbmdzRmlsZVBhdGggPSAoKSA9PiBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ2RhdGEnLCAnc2V0dGluZ3MuanNvbicpXHJcblxyXG4vLyDQpNGD0L3QutGG0LjQuCDQt9Cw0LPRgNGD0LfQutC4INC00LDQvdC90YvRhVxyXG5jb25zdCBsb2FkVXNlcnMgPSAoKSA9PiB7XHJcbiAgY29uc3QgZmlsZVBhdGggPSBnZXRVc2Vyc0ZpbGVQYXRoKClcclxuICBpZiAoIWZzLmV4aXN0c1N5bmMoZmlsZVBhdGgpKSByZXR1cm4gW11cclxuICB0cnkge1xyXG4gICAgY29uc3QgZGF0YSA9IGZzLnJlYWRGaWxlU3luYyhmaWxlUGF0aCwgJ3V0ZjgnKVxyXG4gICAgcmV0dXJuIEpTT04ucGFyc2UoZGF0YSlcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyB1c2VyczonLCBlcnJvcilcclxuICAgIHJldHVybiBbXVxyXG4gIH1cclxufVxyXG5cclxuY29uc3QgbG9hZFByb2ZpbGVzID0gKCk6IFVzZXJQcm9maWxlW10gPT4ge1xyXG4gIGNvbnN0IGZpbGVQYXRoID0gZ2V0UHJvZmlsZXNGaWxlUGF0aCgpXHJcbiAgaWYgKCFmcy5leGlzdHNTeW5jKGZpbGVQYXRoKSkgcmV0dXJuIFtdXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRhdGEgPSBmcy5yZWFkRmlsZVN5bmMoZmlsZVBhdGgsICd1dGY4JylcclxuICAgIHJldHVybiBKU09OLnBhcnNlKGRhdGEpXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgcHJvZmlsZXM6JywgZXJyb3IpXHJcbiAgICByZXR1cm4gW11cclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IGxvYWRTZXR0aW5ncyA9ICgpID0+IHtcclxuICBjb25zdCBmaWxlUGF0aCA9IGdldFNldHRpbmdzRmlsZVBhdGgoKVxyXG4gIGlmICghZnMuZXhpc3RzU3luYyhmaWxlUGF0aCkpIHJldHVybiBbXVxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkYXRhID0gZnMucmVhZEZpbGVTeW5jKGZpbGVQYXRoLCAndXRmOCcpXHJcbiAgICByZXR1cm4gSlNPTi5wYXJzZShkYXRhKVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIHNldHRpbmdzOicsIGVycm9yKVxyXG4gICAgcmV0dXJuIFtdXHJcbiAgfVxyXG59XHJcblxyXG4vLyDQpNGD0L3QutGG0LjQuCDRgdC+0YXRgNCw0L3QtdC90LjRjyDQtNCw0L3QvdGL0YVcclxuY29uc3Qgc2F2ZVByb2ZpbGVzID0gKHByb2ZpbGVzOiBVc2VyUHJvZmlsZVtdKSA9PiB7XHJcbiAgY29uc3QgZmlsZVBhdGggPSBnZXRQcm9maWxlc0ZpbGVQYXRoKClcclxuICBjb25zdCBkaXIgPSBwYXRoLmRpcm5hbWUoZmlsZVBhdGgpXHJcbiAgaWYgKCFmcy5leGlzdHNTeW5jKGRpcikpIHtcclxuICAgIGZzLm1rZGlyU3luYyhkaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pXHJcbiAgfVxyXG4gIGZzLndyaXRlRmlsZVN5bmMoZmlsZVBhdGgsIEpTT04uc3RyaW5naWZ5KHByb2ZpbGVzLCBudWxsLCAyKSlcclxufVxyXG5cclxuY29uc3Qgc2F2ZVNldHRpbmdzID0gKHNldHRpbmdzOiBhbnlbXSkgPT4ge1xyXG4gIGNvbnN0IGZpbGVQYXRoID0gZ2V0U2V0dGluZ3NGaWxlUGF0aCgpXHJcbiAgY29uc3QgZGlyID0gcGF0aC5kaXJuYW1lKGZpbGVQYXRoKVxyXG4gIGlmICghZnMuZXhpc3RzU3luYyhkaXIpKSB7XHJcbiAgICBmcy5ta2RpclN5bmMoZGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KVxyXG4gIH1cclxuICBmcy53cml0ZUZpbGVTeW5jKGZpbGVQYXRoLCBKU09OLnN0cmluZ2lmeShzZXR0aW5ncywgbnVsbCwgMikpXHJcbn1cclxuXHJcbmNvbnN0IHNhdmVVc2VycyA9ICh1c2VyczogYW55W10pID0+IHtcclxuICBjb25zdCBmaWxlUGF0aCA9IGdldFVzZXJzRmlsZVBhdGgoKVxyXG4gIGZzLndyaXRlRmlsZVN5bmMoZmlsZVBhdGgsIEpTT04uc3RyaW5naWZ5KHVzZXJzLCBudWxsLCAyKSlcclxufVxyXG5cclxuLy8g0KTRg9C90LrRhtC40Lgg0LDRg9GC0LXQvdGC0LjRhNC40LrQsNGG0LjQuFxyXG5jb25zdCB2ZXJpZnlUb2tlbiA9ICh0b2tlbjogc3RyaW5nKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRlY29kZWQgPSBqd3QudmVyaWZ5KFxyXG4gICAgICB0b2tlbiwgXHJcbiAgICAgIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQgfHwgJ3dvcmtseS1sb2NhbC1zZWNyZXQta2V5LTIwMjUnXHJcbiAgICApIGFzIHsgdXNlcklkOiBzdHJpbmcgfVxyXG4gICAgcmV0dXJuIGRlY29kZWRcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmV0dXJuIG51bGxcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IGdldFVzZXJGcm9tVG9rZW4gPSAoYXV0aEhlYWRlcjogc3RyaW5nIHwgdW5kZWZpbmVkKSA9PiB7XHJcbiAgaWYgKCFhdXRoSGVhZGVyIHx8ICFhdXRoSGVhZGVyLnN0YXJ0c1dpdGgoJ0JlYXJlciAnKSkgcmV0dXJuIG51bGxcclxuICBcclxuICBjb25zdCB0b2tlbiA9IGF1dGhIZWFkZXIuc3BsaXQoJyAnKVsxXVxyXG4gIGNvbnN0IGRlY29kZWQgPSB2ZXJpZnlUb2tlbih0b2tlbilcclxuICBpZiAoIWRlY29kZWQpIHJldHVybiBudWxsXHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB1c2VycyA9IGxvYWRVc2VycygpXHJcbiAgICBjb25zdCB1c2VyID0gdXNlcnMuZmluZCgodTogYW55KSA9PiB1LmlkID09PSBkZWNvZGVkLnVzZXJJZClcclxuICAgIGlmICghdXNlcikgcmV0dXJuIG51bGxcclxuICAgIFxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaWQ6IHVzZXIuaWQsXHJcbiAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lLFxyXG4gICAgICBlbWFpbDogdXNlci5lbWFpbCxcclxuICAgICAgY3JlYXRlZEF0OiB1c2VyLmNyZWF0ZWRBdFxyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXR1cm4gbnVsbFxyXG4gIH1cclxufVxyXG5cclxuLy8g0KHQvtC30LTQsNC90LjQtSDQtNC10YTQvtC70YLQvdC+0LPQviDQv9GA0L7RhNC40LvRj1xyXG5jb25zdCBjcmVhdGVEZWZhdWx0UHJvZmlsZSA9ICh1c2VyOiBhbnkpOiBVc2VyUHJvZmlsZSA9PiB7XHJcbiAgY29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgXHJcbiAgcmV0dXJuIHtcclxuICAgIGlkOiB1c2VyLmlkLFxyXG4gICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWUsXHJcbiAgICBlbWFpbDogdXNlci5lbWFpbCxcclxuICAgIG5hbWU6IHVzZXIudXNlcm5hbWUsXHJcbiAgICBmaXJzdE5hbWU6ICcnLFxyXG4gICAgbGFzdE5hbWU6ICcnLFxyXG4gICAgYmlvOiAnJyxcclxuICAgIHNraWxsczogW10sXHJcbiAgICBob3VybHlSYXRlOiAwLFxyXG4gICAgbG9jYXRpb246ICcnLFxyXG4gICAgd2Vic2l0ZTogJycsXHJcbiAgICBnaXRodWI6ICcnLFxyXG4gICAgbGlua2VkaW46ICcnLFxyXG4gICAgdHdpdHRlcjogJycsXHJcbiAgICBhdmF0YXI6ICcnLFxyXG4gICAgcmF0aW5nOiA0LjUsXHJcbiAgICBjb21wbGV0ZWRQcm9qZWN0czogMCxcclxuICAgIHRvdGFsRWFybmluZ3M6IDAsXHJcbiAgICBqb2luZWRBdDogdXNlci5jcmVhdGVkQXQgfHwgbm93LFxyXG4gICAgdmVyaWZpZWRFbWFpbDogZmFsc2UsXHJcbiAgICB2ZXJpZmllZFBob25lOiBmYWxzZSxcclxuICAgIG5vdGlmaWNhdGlvbnM6IHtcclxuICAgICAgZW1haWw6IHRydWUsXHJcbiAgICAgIHB1c2g6IHRydWUsXHJcbiAgICAgIG5ld1Rhc2tzOiB0cnVlLFxyXG4gICAgICB0YXNrVXBkYXRlczogdHJ1ZSxcclxuICAgICAgbWVzc2FnZXM6IHRydWUsXHJcbiAgICAgIG1hcmtldGluZzogZmFsc2VcclxuICAgIH0sXHJcbiAgICBwcml2YWN5OiB7XHJcbiAgICAgIHByb2ZpbGVWaXNpYmlsaXR5OiAncHVibGljJyxcclxuICAgICAgc2hvd0VtYWlsOiBmYWxzZSxcclxuICAgICAgc2hvd1N0YXRzOiB0cnVlLFxyXG4gICAgICBzaG93Q29tcGxldGVkVGFza3M6IHRydWVcclxuICAgIH0sXHJcbiAgICBwcmVmZXJlbmNlczoge1xyXG4gICAgICB0aGVtZTogJ2RhcmsnLFxyXG4gICAgICBsYW5ndWFnZTogJ2VuJyxcclxuICAgICAgdGltZXpvbmU6ICdVVEMnLFxyXG4gICAgICBjdXJyZW5jeTogJ1VTRCdcclxuICAgIH0sXHJcbiAgICBjcmVhdGVkQXQ6IHVzZXIuY3JlYXRlZEF0IHx8IG5vdyxcclxuICAgIHVwZGF0ZWRBdDogbm93XHJcbiAgfVxyXG59XHJcblxyXG4vLyDQntCx0YrQtdC00LjQvdC10L3QuNC1INC00LDQvdC90YvRhSDQuNC3INGA0LDQt9C90YvRhSDQuNGB0YLQvtGH0L3QuNC60L7QslxyXG5jb25zdCBtZXJnZVByb2ZpbGVEYXRhID0gKHByb2ZpbGU6IFVzZXJQcm9maWxlIHwgbnVsbCwgc2V0dGluZ3M6IGFueSB8IG51bGwsIHVzZXI6IGFueSk6IFVzZXJQcm9maWxlID0+IHtcclxuICBjb25zdCBkZWZhdWx0UHJvZmlsZSA9IGNyZWF0ZURlZmF1bHRQcm9maWxlKHVzZXIpXHJcbiAgXHJcbiAgaWYgKCFwcm9maWxlICYmICFzZXR0aW5ncykge1xyXG4gICAgcmV0dXJuIGRlZmF1bHRQcm9maWxlXHJcbiAgfVxyXG4gIFxyXG4gIC8vINCe0LHRitC10LTQuNC90Y/QtdC8INC00LDQvdC90YvQtSDRgSDQv9GA0LjQvtGA0LjRgtC10YLQvtC8OiBzZXR0aW5ncyA+IHByb2ZpbGUgPiBkZWZhdWx0XHJcbiAgY29uc3QgbWVyZ2VkOiBVc2VyUHJvZmlsZSA9IHtcclxuICAgIC4uLmRlZmF1bHRQcm9maWxlLFxyXG4gICAgLi4ucHJvZmlsZSxcclxuICAgIC4uLnNldHRpbmdzLFxyXG4gICAgLy8g0JPQsNGA0LDQvdGC0LjRgNGD0LXQvCDQvtCx0Y/Qt9Cw0YLQtdC70YzQvdGL0LUg0L/QvtC70Y9cclxuICAgIGlkOiB1c2VyLmlkLFxyXG4gICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWUsXHJcbiAgICBlbWFpbDogdXNlci5lbWFpbCxcclxuICAgIHNraWxsczogcHJvZmlsZT8uc2tpbGxzIHx8IHNldHRpbmdzPy5za2lsbHMgfHwgW10sXHJcbiAgICByYXRpbmc6IHByb2ZpbGU/LnJhdGluZyB8fCBzZXR0aW5ncz8ucmF0aW5nIHx8IDQuNSxcclxuICAgIGNvbXBsZXRlZFByb2plY3RzOiBwcm9maWxlPy5jb21wbGV0ZWRQcm9qZWN0cyB8fCAwLFxyXG4gICAgdG90YWxFYXJuaW5nczogcHJvZmlsZT8udG90YWxFYXJuaW5ncyB8fCAwLFxyXG4gICAgdmVyaWZpZWRFbWFpbDogcHJvZmlsZT8udmVyaWZpZWRFbWFpbCB8fCBmYWxzZSxcclxuICAgIHZlcmlmaWVkUGhvbmU6IHByb2ZpbGU/LnZlcmlmaWVkUGhvbmUgfHwgZmFsc2UsXHJcbiAgICBub3RpZmljYXRpb25zOiB7XHJcbiAgICAgIC4uLmRlZmF1bHRQcm9maWxlLm5vdGlmaWNhdGlvbnMsXHJcbiAgICAgIC4uLihwcm9maWxlPy5ub3RpZmljYXRpb25zIHx8IHt9KSxcclxuICAgICAgLi4uKHNldHRpbmdzPy5ub3RpZmljYXRpb25zIHx8IHt9KVxyXG4gICAgfSxcclxuICAgIHByaXZhY3k6IHtcclxuICAgICAgLi4uZGVmYXVsdFByb2ZpbGUucHJpdmFjeSxcclxuICAgICAgLi4uKHByb2ZpbGU/LnByaXZhY3kgfHwge30pLFxyXG4gICAgICAuLi4oc2V0dGluZ3M/LnByaXZhY3kgfHwge30pXHJcbiAgICB9LFxyXG4gICAgcHJlZmVyZW5jZXM6IHtcclxuICAgICAgLi4uZGVmYXVsdFByb2ZpbGUucHJlZmVyZW5jZXMsXHJcbiAgICAgIC4uLihwcm9maWxlPy5wcmVmZXJlbmNlcyB8fCB7fSksXHJcbiAgICAgIC4uLihzZXR0aW5ncz8ucHJlZmVyZW5jZXMgfHwge30pXHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIHJldHVybiBtZXJnZWRcclxufVxyXG5cclxuLy8g0KTQuNC70YzRgtGA0LDRhtC40Y8g0L7QsdC90L7QstC70LXQvdC40LlcclxuY29uc3QgZmlsdGVyVXBkYXRlcyA9ICh1cGRhdGVzOiBhbnkpID0+IHtcclxuICBjb25zdCBmaWx0ZXJlZDogYW55ID0ge31cclxuICBcclxuICAvLyDQn9GA0L7RhNC40LvRjNC90YvQtSDQv9C+0LvRj1xyXG4gIGNvbnN0IHByb2ZpbGVGaWVsZHMgPSBbXHJcbiAgICAnZmlyc3ROYW1lJywgJ2xhc3ROYW1lJywgJ2JpbycsICdza2lsbHMnLCAnaG91cmx5UmF0ZScsIFxyXG4gICAgJ2xvY2F0aW9uJywgJ3dlYnNpdGUnLCAnZ2l0aHViJywgJ2xpbmtlZGluJywgJ3R3aXR0ZXInLCBcclxuICAgICdhdmF0YXInLCAncmF0aW5nJywgJ2NvbXBsZXRlZFByb2plY3RzJywgJ3RvdGFsRWFybmluZ3MnLFxyXG4gICAgJ3ZlcmlmaWVkRW1haWwnLCAndmVyaWZpZWRQaG9uZSdcclxuICBdXHJcbiAgXHJcbiAgLy8g0J3QsNGB0YLRgNC+0LXRh9C90YvQtSDQv9C+0LvRj1xyXG4gIGNvbnN0IHNldHRpbmdzRmllbGRzID0gW1xyXG4gICAgJ25hbWUnLCAndXNlcm5hbWUnLCAnbm90aWZpY2F0aW9ucycsICdwcml2YWN5JywgJ3ByZWZlcmVuY2VzJ1xyXG4gIF1cclxuICBcclxuICAvLyDQmtC+0L/QuNGA0YPQtdC8INGC0L7Qu9GM0LrQviDQstCw0LvQuNC00L3Ri9C1INC/0L7Qu9GPXHJcbiAgY29uc3QgYWxsRmllbGRzID0gWy4uLnByb2ZpbGVGaWVsZHMsIC4uLnNldHRpbmdzRmllbGRzXVxyXG4gIGFsbEZpZWxkcy5mb3JFYWNoKGZpZWxkID0+IHtcclxuICAgIGlmICh1cGRhdGVzW2ZpZWxkXSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIGZpbHRlcmVkW2ZpZWxkXSA9IHVwZGF0ZXNbZmllbGRdXHJcbiAgICB9XHJcbiAgfSlcclxuICBcclxuICByZXR1cm4gZmlsdGVyZWRcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXE6IE5leHRBcGlSZXF1ZXN0LCByZXM6IE5leHRBcGlSZXNwb25zZSkge1xyXG4gIGNvbnN0IHsgbWV0aG9kIH0gPSByZXFcclxuXHJcbiAgLy8g0JDRg9GC0LXQvdGC0LjRhNC40LrQsNGG0LjRj1xyXG4gIGNvbnN0IGN1cnJlbnRVc2VyID0gZ2V0VXNlckZyb21Ub2tlbihyZXEuaGVhZGVycy5hdXRob3JpemF0aW9uKVxyXG4gIFxyXG4gIGlmICghY3VycmVudFVzZXIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7XHJcbiAgICAgIGVycm9yOiAnVW5hdXRob3JpemVkJyxcclxuICAgICAgbWVzc2FnZTogJ0F1dGhlbnRpY2F0aW9uIHJlcXVpcmVkJ1xyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGlmIChtZXRob2QgPT09ICdHRVQnKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBhbGxQcm9maWxlcyA9IGxvYWRQcm9maWxlcygpXHJcbiAgICAgIGNvbnN0IGFsbFNldHRpbmdzID0gbG9hZFNldHRpbmdzKClcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHVzZXJQcm9maWxlID0gYWxsUHJvZmlsZXMuZmluZChwID0+IHAuaWQgPT09IGN1cnJlbnRVc2VyLmlkKSB8fCBudWxsXHJcbiAgICAgIGNvbnN0IHVzZXJTZXR0aW5ncyA9IGFsbFNldHRpbmdzLmZpbmQocyA9PiBzLmlkID09PSBjdXJyZW50VXNlci5pZCkgfHwgbnVsbFxyXG4gICAgICBcclxuICAgICAgLy8g0J7QsdGK0LXQtNC40L3Rj9C10Lwg0Lgg0LLQvtC30LLRgNCw0YnQsNC10Lwg0LTQsNC90L3Ri9C1XHJcbiAgICAgIGNvbnN0IG1lcmdlZFByb2ZpbGUgPSBtZXJnZVByb2ZpbGVEYXRhKHVzZXJQcm9maWxlLCB1c2VyU2V0dGluZ3MsIGN1cnJlbnRVc2VyKVxyXG4gICAgICBcclxuICAgICAgLy8g0JXRgdC70Lgg0L/RgNC+0YTQuNC70Y8g0L3QtSDQsdGL0LvQviwg0YHQvtGF0YDQsNC90Y/QtdC8INGB0L7Qt9C00LDQvdC90YvQuSDQv9C+INGD0LzQvtC70YfQsNC90LjRjlxyXG4gICAgICBpZiAoIXVzZXJQcm9maWxlKSB7XHJcbiAgICAgICAgYWxsUHJvZmlsZXMucHVzaChtZXJnZWRQcm9maWxlKVxyXG4gICAgICAgIHNhdmVQcm9maWxlcyhhbGxQcm9maWxlcylcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgaWYgKCF1c2VyU2V0dGluZ3MpIHtcclxuICAgICAgICBhbGxTZXR0aW5ncy5wdXNoKG1lcmdlZFByb2ZpbGUpXHJcbiAgICAgICAgc2F2ZVNldHRpbmdzKGFsbFNldHRpbmdzKVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICBwcm9maWxlOiBtZXJnZWRQcm9maWxlXHJcbiAgICAgIH0pXHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignR2V0IHByb2ZpbGUgZXJyb3I6JywgZXJyb3IpXHJcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgICBlcnJvcjogJ0ludGVybmFsIHNlcnZlciBlcnJvcicsXHJcbiAgICAgICAgbWVzc2FnZTogJ0ZhaWxlZCB0byBnZXQgcHJvZmlsZSdcclxuICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgfSBlbHNlIGlmIChtZXRob2QgPT09ICdQVVQnKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByYXdVcGRhdGVzID0gcmVxLmJvZHlcclxuICAgICAgY29uc3QgdXBkYXRlcyA9IGZpbHRlclVwZGF0ZXMocmF3VXBkYXRlcylcclxuICAgICAgXHJcbiAgICAgIC8vINCS0LDQu9C40LTQsNGG0LjRjyB1c2VybmFtZVxyXG4gICAgICBpZiAodXBkYXRlcy51c2VybmFtZSAmJiB1cGRhdGVzLnVzZXJuYW1lICE9PSBjdXJyZW50VXNlci51c2VybmFtZSkge1xyXG4gICAgICAgIGNvbnN0IHVzZXJzID0gbG9hZFVzZXJzKClcclxuICAgICAgICBjb25zdCBleGlzdGluZ1VzZXIgPSB1c2Vycy5maW5kKCh1OiBhbnkpID0+IFxyXG4gICAgICAgICAgdS51c2VybmFtZSA9PT0gdXBkYXRlcy51c2VybmFtZS50b0xvd2VyQ2FzZSgpICYmIHUuaWQgIT09IGN1cnJlbnRVc2VyLmlkXHJcbiAgICAgICAgKVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChleGlzdGluZ1VzZXIpIHtcclxuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IFxyXG4gICAgICAgICAgICBlcnJvcjogJ1VzZXJuYW1lIGFscmVhZHkgdGFrZW4nLFxyXG4gICAgICAgICAgICBtZXNzYWdlOiAnVGhpcyB1c2VybmFtZSBpcyBhbHJlYWR5IGluIHVzZSBieSBhbm90aGVyIHVzZXInXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgYWxsUHJvZmlsZXMgPSBsb2FkUHJvZmlsZXMoKVxyXG4gICAgICBjb25zdCBhbGxTZXR0aW5ncyA9IGxvYWRTZXR0aW5ncygpXHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBwcm9maWxlSW5kZXggPSBhbGxQcm9maWxlcy5maW5kSW5kZXgocCA9PiBwLmlkID09PSBjdXJyZW50VXNlci5pZClcclxuICAgICAgY29uc3Qgc2V0dGluZ3NJbmRleCA9IGFsbFNldHRpbmdzLmZpbmRJbmRleChzID0+IHMuaWQgPT09IGN1cnJlbnRVc2VyLmlkKVxyXG4gICAgICBcclxuICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgIFxyXG4gICAgICAvLyDQn9C+0LvRg9GH0LDQtdC8INGC0LXQutGD0YnQuNC1INC00LDQvdC90YvQtVxyXG4gICAgICBjb25zdCBjdXJyZW50UHJvZmlsZSA9IGFsbFByb2ZpbGVzW3Byb2ZpbGVJbmRleF0gfHwgbnVsbFxyXG4gICAgICBjb25zdCBjdXJyZW50U2V0dGluZ3MgPSBhbGxTZXR0aW5nc1tzZXR0aW5nc0luZGV4XSB8fCBudWxsXHJcbiAgICAgIFxyXG4gICAgICAvLyDQodC+0LfQtNCw0LXQvCDQvtCx0L3QvtCy0LvQtdC90L3Ri9C5INC/0YDQvtGE0LjQu9GMXHJcbiAgICAgIGNvbnN0IHVwZGF0ZWRQcm9maWxlID0gbWVyZ2VQcm9maWxlRGF0YShjdXJyZW50UHJvZmlsZSwgY3VycmVudFNldHRpbmdzLCBjdXJyZW50VXNlcilcclxuICAgICAgXHJcbiAgICAgIC8vINCf0YDQuNC80LXQvdGP0LXQvCDQvtCx0L3QvtCy0LvQtdC90LjRj1xyXG4gICAgICBPYmplY3Qua2V5cyh1cGRhdGVzKS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgaWYgKHVwZGF0ZXNba2V5XSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICA7KHVwZGF0ZWRQcm9maWxlIGFzIGFueSlba2V5XSA9IHVwZGF0ZXNba2V5XVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICAgXHJcbiAgICAgIHVwZGF0ZWRQcm9maWxlLnVwZGF0ZWRBdCA9IG5vd1xyXG4gICAgICBcclxuICAgICAgLy8g0KHQvtGF0YDQsNC90Y/QtdC8INCyIHByb2ZpbGVzXHJcbiAgICAgIGlmIChwcm9maWxlSW5kZXggPT09IC0xKSB7XHJcbiAgICAgICAgYWxsUHJvZmlsZXMucHVzaCh1cGRhdGVkUHJvZmlsZSlcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhbGxQcm9maWxlc1twcm9maWxlSW5kZXhdID0gdXBkYXRlZFByb2ZpbGVcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8g0KHQvtGF0YDQsNC90Y/QtdC8INCyIHNldHRpbmdzXHJcbiAgICAgIGlmIChzZXR0aW5nc0luZGV4ID09PSAtMSkge1xyXG4gICAgICAgIGFsbFNldHRpbmdzLnB1c2godXBkYXRlZFByb2ZpbGUpXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYWxsU2V0dGluZ3Nbc2V0dGluZ3NJbmRleF0gPSB1cGRhdGVkUHJvZmlsZVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBzYXZlUHJvZmlsZXMoYWxsUHJvZmlsZXMpXHJcbiAgICAgIHNhdmVTZXR0aW5ncyhhbGxTZXR0aW5ncylcclxuICAgICAgXHJcbiAgICAgIC8vINCe0LHQvdC+0LLQu9GP0LXQvCB1c2VybmFtZSDQsiB1c2Vycy5qc29uINC10YHQu9C4INC40LfQvNC10L3QuNC70YHRj1xyXG4gICAgICBpZiAodXBkYXRlcy51c2VybmFtZSAmJiB1cGRhdGVzLnVzZXJuYW1lICE9PSBjdXJyZW50VXNlci51c2VybmFtZSkge1xyXG4gICAgICAgIGNvbnN0IHVzZXJzID0gbG9hZFVzZXJzKClcclxuICAgICAgICBjb25zdCB1c2VySW5kZXggPSB1c2Vycy5maW5kSW5kZXgoKHU6IGFueSkgPT4gdS5pZCA9PT0gY3VycmVudFVzZXIuaWQpXHJcbiAgICAgICAgaWYgKHVzZXJJbmRleCAhPT0gLTEpIHtcclxuICAgICAgICAgIHVzZXJzW3VzZXJJbmRleF0udXNlcm5hbWUgPSB1cGRhdGVzLnVzZXJuYW1lLnRvTG93ZXJDYXNlKClcclxuICAgICAgICAgIHNhdmVVc2Vycyh1c2VycylcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIHByb2ZpbGU6IHVwZGF0ZWRQcm9maWxlXHJcbiAgICAgIH0pXHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignVXBkYXRlIHByb2ZpbGUgZXJyb3I6JywgZXJyb3IpXHJcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgICBlcnJvcjogJ0ludGVybmFsIHNlcnZlciBlcnJvcicsXHJcbiAgICAgICAgbWVzc2FnZTogJ0ZhaWxlZCB0byB1cGRhdGUgcHJvZmlsZSdcclxuICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgfSBlbHNlIHtcclxuICAgIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgXHJcbiAgICAgIGVycm9yOiAnTWV0aG9kIG5vdCBhbGxvd2VkJyxcclxuICAgICAgbWVzc2FnZTogYE1ldGhvZCAke21ldGhvZH0gaXMgbm90IHN1cHBvcnRlZGBcclxuICAgIH0pXHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbImZzIiwicGF0aCIsImp3dCIsImdldFVzZXJzRmlsZVBhdGgiLCJqb2luIiwicHJvY2VzcyIsImN3ZCIsImdldFByb2ZpbGVzRmlsZVBhdGgiLCJnZXRTZXR0aW5nc0ZpbGVQYXRoIiwibG9hZFVzZXJzIiwiZmlsZVBhdGgiLCJleGlzdHNTeW5jIiwiZGF0YSIsInJlYWRGaWxlU3luYyIsIkpTT04iLCJwYXJzZSIsImVycm9yIiwiY29uc29sZSIsImxvYWRQcm9maWxlcyIsImxvYWRTZXR0aW5ncyIsInNhdmVQcm9maWxlcyIsInByb2ZpbGVzIiwiZGlyIiwiZGlybmFtZSIsIm1rZGlyU3luYyIsInJlY3Vyc2l2ZSIsIndyaXRlRmlsZVN5bmMiLCJzdHJpbmdpZnkiLCJzYXZlU2V0dGluZ3MiLCJzZXR0aW5ncyIsInNhdmVVc2VycyIsInVzZXJzIiwidmVyaWZ5VG9rZW4iLCJ0b2tlbiIsImRlY29kZWQiLCJ2ZXJpZnkiLCJlbnYiLCJKV1RfU0VDUkVUIiwiZ2V0VXNlckZyb21Ub2tlbiIsImF1dGhIZWFkZXIiLCJzdGFydHNXaXRoIiwic3BsaXQiLCJ1c2VyIiwiZmluZCIsInUiLCJpZCIsInVzZXJJZCIsInVzZXJuYW1lIiwiZW1haWwiLCJjcmVhdGVkQXQiLCJjcmVhdGVEZWZhdWx0UHJvZmlsZSIsIm5vdyIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsIm5hbWUiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsImJpbyIsInNraWxscyIsImhvdXJseVJhdGUiLCJsb2NhdGlvbiIsIndlYnNpdGUiLCJnaXRodWIiLCJsaW5rZWRpbiIsInR3aXR0ZXIiLCJhdmF0YXIiLCJyYXRpbmciLCJjb21wbGV0ZWRQcm9qZWN0cyIsInRvdGFsRWFybmluZ3MiLCJqb2luZWRBdCIsInZlcmlmaWVkRW1haWwiLCJ2ZXJpZmllZFBob25lIiwibm90aWZpY2F0aW9ucyIsInB1c2giLCJuZXdUYXNrcyIsInRhc2tVcGRhdGVzIiwibWVzc2FnZXMiLCJtYXJrZXRpbmciLCJwcml2YWN5IiwicHJvZmlsZVZpc2liaWxpdHkiLCJzaG93RW1haWwiLCJzaG93U3RhdHMiLCJzaG93Q29tcGxldGVkVGFza3MiLCJwcmVmZXJlbmNlcyIsInRoZW1lIiwibGFuZ3VhZ2UiLCJ0aW1lem9uZSIsImN1cnJlbmN5IiwidXBkYXRlZEF0IiwibWVyZ2VQcm9maWxlRGF0YSIsInByb2ZpbGUiLCJkZWZhdWx0UHJvZmlsZSIsIm1lcmdlZCIsImZpbHRlclVwZGF0ZXMiLCJ1cGRhdGVzIiwiZmlsdGVyZWQiLCJwcm9maWxlRmllbGRzIiwic2V0dGluZ3NGaWVsZHMiLCJhbGxGaWVsZHMiLCJmb3JFYWNoIiwiZmllbGQiLCJ1bmRlZmluZWQiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwiY3VycmVudFVzZXIiLCJoZWFkZXJzIiwiYXV0aG9yaXphdGlvbiIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwiYWxsUHJvZmlsZXMiLCJhbGxTZXR0aW5ncyIsInVzZXJQcm9maWxlIiwicCIsInVzZXJTZXR0aW5ncyIsInMiLCJtZXJnZWRQcm9maWxlIiwic3VjY2VzcyIsInJhd1VwZGF0ZXMiLCJib2R5IiwiZXhpc3RpbmdVc2VyIiwidG9Mb3dlckNhc2UiLCJwcm9maWxlSW5kZXgiLCJmaW5kSW5kZXgiLCJzZXR0aW5nc0luZGV4IiwiY3VycmVudFByb2ZpbGUiLCJjdXJyZW50U2V0dGluZ3MiLCJ1cGRhdGVkUHJvZmlsZSIsIk9iamVjdCIsImtleXMiLCJrZXkiLCJ1c2VySW5kZXgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/profile.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/profile.ts"));
module.exports = __webpack_exports__;

})();