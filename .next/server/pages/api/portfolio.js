"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/portfolio";
exports.ids = ["pages/api/portfolio"];
exports.modules = {

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "(api)/./pages/api/portfolio/index.ts":
/*!**************************************!*\
  !*** ./pages/api/portfolio/index.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__);\n// pages/api/portfolio/index.ts\n\nconst JWT_SECRET = process.env.JWT_SECRET || \"your-secret-key\";\n// Временное хранилище (замените на базу данных)\nlet portfolioProjects = [];\nfunction handler(req, res) {\n    if (req.method === \"GET\") {\n        return getPortfolioProjects(req, res);\n    } else if (req.method === \"POST\") {\n        return createPortfolioProject(req, res);\n    } else {\n        res.setHeader(\"Allow\", [\n            \"GET\",\n            \"POST\"\n        ]);\n        res.status(405).json({\n            error: \"Method not allowed\"\n        });\n    }\n}\nasync function getPortfolioProjects(req, res) {\n    try {\n        const token = req.headers.authorization?.replace(\"Bearer \", \"\");\n        if (!token) {\n            return res.status(401).json({\n                error: \"No token provided\"\n            });\n        }\n        const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().verify(token, JWT_SECRET);\n        const userId = decoded.userId;\n        // Фильтруем проекты пользователя\n        const userProjects = portfolioProjects.filter((project)=>project.userId === userId);\n        res.status(200).json({\n            projects: userProjects\n        });\n    } catch (error) {\n        console.error(\"Get portfolio error:\", error);\n        res.status(500).json({\n            error: \"Internal server error\"\n        });\n    }\n}\nasync function createPortfolioProject(req, res) {\n    try {\n        const token = req.headers.authorization?.replace(\"Bearer \", \"\");\n        if (!token) {\n            return res.status(401).json({\n                error: \"No token provided\"\n            });\n        }\n        const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().verify(token, JWT_SECRET);\n        const userId = decoded.userId;\n        const { title, description, category, technologies, image, liveUrl, githubUrl } = req.body;\n        if (!title || !description || !category) {\n            return res.status(400).json({\n                error: \"Title, description, and category are required\"\n            });\n        }\n        const newProject = {\n            id: Date.now().toString(),\n            userId,\n            title,\n            description,\n            category,\n            technologies: technologies || [],\n            image: image || null,\n            liveUrl: liveUrl || null,\n            githubUrl: githubUrl || null,\n            createdAt: new Date().toISOString()\n        };\n        portfolioProjects.push(newProject);\n        res.status(201).json({\n            project: newProject\n        });\n    } catch (error) {\n        console.error(\"Create portfolio project error:\", error);\n        res.status(500).json({\n            error: \"Internal server error\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBd0I7SUFDeEQ7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3Rhc2tjaGFpbi11aS8uL3BhZ2VzL2FwaS9wb3J0Zm9saW8vaW5kZXgudHM/NDBhNSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBwYWdlcy9hcGkvcG9ydGZvbGlvL2luZGV4LnRzXHJcbmltcG9ydCB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tICduZXh0J1xyXG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbidcclxuXHJcbmNvbnN0IEpXVF9TRUNSRVQgPSBwcm9jZXNzLmVudi5KV1RfU0VDUkVUIHx8ICd5b3VyLXNlY3JldC1rZXknXHJcblxyXG4vLyDQktGA0LXQvNC10L3QvdC+0LUg0YXRgNCw0L3QuNC70LjRidC1ICjQt9Cw0LzQtdC90LjRgtC1INC90LAg0LHQsNC30YMg0LTQsNC90L3Ri9GFKVxyXG5sZXQgcG9ydGZvbGlvUHJvamVjdHM6IGFueVtdID0gW11cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZXIocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2UpIHtcclxuICBpZiAocmVxLm1ldGhvZCA9PT0gJ0dFVCcpIHtcclxuICAgIHJldHVybiBnZXRQb3J0Zm9saW9Qcm9qZWN0cyhyZXEsIHJlcylcclxuICB9IGVsc2UgaWYgKHJlcS5tZXRob2QgPT09ICdQT1NUJykge1xyXG4gICAgcmV0dXJuIGNyZWF0ZVBvcnRmb2xpb1Byb2plY3QocmVxLCByZXMpXHJcbiAgfSBlbHNlIHtcclxuICAgIHJlcy5zZXRIZWFkZXIoJ0FsbG93JywgWydHRVQnLCAnUE9TVCddKVxyXG4gICAgcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBlcnJvcjogJ01ldGhvZCBub3QgYWxsb3dlZCcgfSlcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGdldFBvcnRmb2xpb1Byb2plY3RzKHJlcTogTmV4dEFwaVJlcXVlc3QsIHJlczogTmV4dEFwaVJlc3BvbnNlKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHRva2VuID0gcmVxLmhlYWRlcnMuYXV0aG9yaXphdGlvbj8ucmVwbGFjZSgnQmVhcmVyICcsICcnKVxyXG4gICAgaWYgKCF0b2tlbikge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBlcnJvcjogJ05vIHRva2VuIHByb3ZpZGVkJyB9KVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGRlY29kZWQgPSBqd3QudmVyaWZ5KHRva2VuLCBKV1RfU0VDUkVUKSBhcyBhbnlcclxuICAgIGNvbnN0IHVzZXJJZCA9IGRlY29kZWQudXNlcklkXHJcblxyXG4gICAgLy8g0KTQuNC70YzRgtGA0YPQtdC8INC/0YDQvtC10LrRgtGLINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xyXG4gICAgY29uc3QgdXNlclByb2plY3RzID0gcG9ydGZvbGlvUHJvamVjdHMuZmlsdGVyKHByb2plY3QgPT4gcHJvamVjdC51c2VySWQgPT09IHVzZXJJZClcclxuXHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IHByb2plY3RzOiB1c2VyUHJvamVjdHMgfSlcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignR2V0IHBvcnRmb2xpbyBlcnJvcjonLCBlcnJvcilcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0pXHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVQb3J0Zm9saW9Qcm9qZWN0KHJlcTogTmV4dEFwaVJlcXVlc3QsIHJlczogTmV4dEFwaVJlc3BvbnNlKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHRva2VuID0gcmVxLmhlYWRlcnMuYXV0aG9yaXphdGlvbj8ucmVwbGFjZSgnQmVhcmVyICcsICcnKVxyXG4gICAgaWYgKCF0b2tlbikge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBlcnJvcjogJ05vIHRva2VuIHByb3ZpZGVkJyB9KVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGRlY29kZWQgPSBqd3QudmVyaWZ5KHRva2VuLCBKV1RfU0VDUkVUKSBhcyBhbnlcclxuICAgIGNvbnN0IHVzZXJJZCA9IGRlY29kZWQudXNlcklkXHJcblxyXG4gICAgY29uc3QgeyB0aXRsZSwgZGVzY3JpcHRpb24sIGNhdGVnb3J5LCB0ZWNobm9sb2dpZXMsIGltYWdlLCBsaXZlVXJsLCBnaXRodWJVcmwgfSA9IHJlcS5ib2R5XHJcblxyXG4gICAgaWYgKCF0aXRsZSB8fCAhZGVzY3JpcHRpb24gfHwgIWNhdGVnb3J5KSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnVGl0bGUsIGRlc2NyaXB0aW9uLCBhbmQgY2F0ZWdvcnkgYXJlIHJlcXVpcmVkJyB9KVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG5ld1Byb2plY3QgPSB7XHJcbiAgICAgIGlkOiBEYXRlLm5vdygpLnRvU3RyaW5nKCksIC8vINCSINGA0LXQsNC70YzQvdC+0Lwg0L/RgNC+0LXQutGC0LUg0LjRgdC/0L7Qu9GM0LfRg9C50YLQtSBVVUlEXHJcbiAgICAgIHVzZXJJZCxcclxuICAgICAgdGl0bGUsXHJcbiAgICAgIGRlc2NyaXB0aW9uLFxyXG4gICAgICBjYXRlZ29yeSxcclxuICAgICAgdGVjaG5vbG9naWVzOiB0ZWNobm9sb2dpZXMgfHwgW10sXHJcbiAgICAgIGltYWdlOiBpbWFnZSB8fCBudWxsLFxyXG4gICAgICBsaXZlVXJsOiBsaXZlVXJsIHx8IG51bGwsXHJcbiAgICAgIGdpdGh1YlVybDogZ2l0aHViVXJsIHx8IG51bGwsXHJcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICB9XHJcblxyXG4gICAgcG9ydGZvbGlvUHJvamVjdHMucHVzaChuZXdQcm9qZWN0KVxyXG5cclxuICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHsgcHJvamVjdDogbmV3UHJvamVjdCB9KVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdDcmVhdGUgcG9ydGZvbGlvIHByb2plY3QgZXJyb3I6JywgZXJyb3IpXHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9KVxyXG4gIH1cclxufSJdLCJuYW1lcyI6WyJqd3QiLCJKV1RfU0VDUkVUIiwicHJvY2VzcyIsImVudiIsInBvcnRmb2xpb1Byb2plY3RzIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsImdldFBvcnRmb2xpb1Byb2plY3RzIiwiY3JlYXRlUG9ydGZvbGlvUHJvamVjdCIsInNldEhlYWRlciIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsInRva2VuIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJyZXBsYWNlIiwiZGVjb2RlZCIsInZlcmlmeSIsInVzZXJJZCIsInVzZXJQcm9qZWN0cyIsImZpbHRlciIsInByb2plY3QiLCJwcm9qZWN0cyIsImNvbnNvbGUiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiY2F0ZWdvcnkiLCJ0ZWNobm9sb2dpZXMiLCJpbWFnZSIsImxpdmVVcmwiLCJnaXRodWJVcmwiLCJib2R5IiwibmV3UHJvamVjdCIsImlkIiwiRGF0ZSIsIm5vdyIsInRvU3RyaW5nIiwiY3JlYXRlZEF0IiwidG9JU09TdHJpbmciLCJwdXNoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/portfolio/index.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/portfolio/index.ts"));
module.exports = __webpack_exports__;

})();